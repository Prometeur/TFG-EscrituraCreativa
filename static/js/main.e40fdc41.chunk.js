(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{149:function(e,t,a){},22:function(e,t,a){},235:function(e,t,a){},31:function(e,t,a){},384:function(e,t,a){e.exports=a(663)},389:function(e,t,a){},497:function(e,t,a){},500:function(e,t,a){},655:function(e,t){},660:function(e,t,a){},662:function(e,t,a){},663:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),o=a.n(l),c=a(9),i=a(10),s=a(24),m=a(11),u=a(12),d=(a(389),a(390),a(15)),h=a(48),g=a(345),f=a.n(g).a.create({baseURL:"http://localhost:3001/",headers:{"Content-type":"application/json"}});function p(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var E=new(function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"login",value:function(e,t){return f.post("/auth/signin",{username:e,password:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a,n,r){return f.post("/auth/signup",{username:e,surname:t,email:a,password:n,role:r},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editProfile",value:function(e,t,a,n,r,l){return f.post("auth/editProfile",{id:e,username:t,surname:a,email:n,password:r,foto:l},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"updatePhoto",value:function(e,t,a){var n=new FormData;return n.append("profilePhoto",t),n.append("idUser",e),f.post("auth/updatePhoto",n,{params:{id:e,file:t,type:a}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message)}))}},{key:"disableProfile",value:function(e){return f.post("auth/disableProfile",{idUser:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),v=a(134),b=a.n(v),C=a(64),w=a.n(C),N=a(135),S=a.n(N),y=a(13),k=a(3),T=a(2),j=(a(22),a(149),a(31),function(e){if(!e)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"\xa1Todos los campos son obligatorios!")}),O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(s.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(s.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(s.a)(n)),n.onModal=n.onModal.bind(Object(s.a)(n)),n.state={username:"",password:"",loading:!1,message:"",error:!1,onModal:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){E.getCurrentUser()&&(this.props.history.push("/profile"),window.location.reload())}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onModal",value:function(e){this.setState({onModal:e})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?E.login(this.state.username,this.state.password).then((function(){window.location.href="/profile"})).catch((function(e){console.log(e),t.setState({error:!0}),t.onModal(t.state.error)})):(this.setState({loading:!1}),console.log("error"))}},{key:"render",value:function(){var e=this;return console.log(this.state.error),r.a.createElement("div",{className:"container"},r.a.createElement(b.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t}},r.a.createElement("div",{className:"form-group-login"},r.a.createElement("h4",null,"Iniciar sesi\xf3n"),r.a.createElement("div",{className:"section-column"},r.a.createElement(w.a,{type:"text",name:"username",className:"form-control",placeholder:" Usuario",value:this.state.username,onChange:this.onChangeUsername,validations:[j]})),r.a.createElement("div",{className:"section-column"},r.a.createElement(w.a,{type:"password",className:"form-control",name:"password",placeholder:" Contrase\xf1a",value:this.state.password,onChange:this.onChangePassword,validations:[j]})),r.a.createElement("div",{className:"section-column"},r.a.createElement("button",{className:"button button5"}," Login ")),r.a.createElement("p",{className:"p-login"},"Al crear la cuenta, aceptas nuestros t\xe9rminos y condiciones. Por favor, lee nuestra pol\xedtica de privacidad y nuestra pol\xedtica de cookies."),r.a.createElement(S.a,{text:"Log In",style:{display:"none"},ref:function(t){e.checkBtn=t}}))),r.a.createElement("img",{className:"img-login",src:"literaturatesis.png"}),r.a.createElement(T.a,{show:this.state.onModal,onHide:this.state.onModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Ups...")),r.a.createElement(T.a.Body,null,"Tu correo o contrase\xf1a no son correctos."),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:function(){return e.onModal(!1)}},"Atras"))))}}]),a}(n.Component),M=a(198),x=a(700),D=a(705),G=a(704),F=a(711),W=a(713),B=function(e){if(!e)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"\xa1Todos los campos son obligatorios!")},A=function(e){if(!Object(M.isEmail)(e))return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-heading"},"Este correo no es valido.")},U=function(e){if(e.length<3||e.length>20)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"El nombre del usuario debe tener entre 3 a 20 caracteres.")},q=function(e){if(e.length<3||e.length>20)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"El Apellido del usuario debe tener entre 3 a 20 caracteres.")},R=function(e){if(e.length<6||e.length>40)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"La contrase\xf1a debe tener entre 6 y 40 caracteres.")},z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeRole=function(e){n.setState({role:e.target.value})},n.handleRegister=n.handleRegister.bind(Object(s.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(s.a)(n)),n.onChangeSurname=n.onChangeSurname.bind(Object(s.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(s.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(s.a)(n)),n.state={username:"",surname:"",email:"",password:"",role:"S",successful:!1,message:""},n}return Object(i.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeSurname",value:function(e){this.setState({surname:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&E.register(this.state.username,this.state.surname,this.state.email,this.state.password,this.state.role).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-home"},r.a.createElement(b.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t}},!this.state.successful&&r.a.createElement("div",{className:"form-group-register"},r.a.createElement("h4",null,"Registrarse"),r.a.createElement("div",{className:"section-column"},r.a.createElement(w.a,{type:"text",className:"form-control",name:"username",placeholder:"Nombre",value:this.state.username,onChange:this.onChangeUsername,validations:[B,U]})),r.a.createElement("div",{className:"section-column"},r.a.createElement(w.a,{type:"text",className:"form-control",name:"surname",placeholder:"Apellido",value:this.state.surname,onChange:this.onChangeSurname,validations:[B,q]})),r.a.createElement("div",{className:"section-column"},r.a.createElement(w.a,{type:"text",className:"form-control",name:"email",placeholder:"Correo",value:this.state.email,onChange:this.onChangeEmail,validations:[B,A]})),r.a.createElement("div",{className:"section-column"},r.a.createElement(w.a,{type:"password",className:"form-control",name:"password",placeholder:"Contrase\xf1a",value:this.state.password,onChange:this.onChangePassword,validations:[B,R]})),r.a.createElement("div",{className:"section-column"},r.a.createElement(x.a,{component:"fieldset"},r.a.createElement(G.a,{component:"legend"},"\xbfQu\xe9 tipo de usuario eres?"),r.a.createElement(W.a,{"aria-label":"Rol",name:"role",value:this.state.role,onChange:this.onChangeRole},r.a.createElement(D.a,{value:"S",control:r.a.createElement(F.a,null),label:"Soy estudiante."}),r.a.createElement(D.a,{value:"T",control:r.a.createElement(F.a,null),label:"Soy profesor."})))),r.a.createElement("ul",{className:"flex-container wrap"},r.a.createElement("li",{className:"flex-item-small"},r.a.createElement("input",{type:"checkbox",id:"vehicle1",name:"vehicle1",value:"Bike",required:"required"})),r.a.createElement("li",{className:"flex-item-medium"},r.a.createElement("label",{htmlFor:"vehicle1"},"Marcando esta casilla confirmo que he le\xeddo y acepto la informaci\xf3n del servicio y protecci\xf3n de datos de car\xe1cter personal"))),r.a.createElement("div",{className:"section-column"},r.a.createElement("button",{className:"button button5"},"Sign Up"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(S.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})),r.a.createElement("img",{className:"img-home",src:"liteaturalapiz.png"}))}}]),a}(n.Component),L=a(4),I=a(129),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={role:"",redirect:null,userReady:!1,currentUser:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=E.getCurrentUser();e||this.setState({redirect:"/home"}),this.setState({currentUser:e,userReady:!0}),"S"===e.rol?this.setState({role:"Estudiante"}):"T"===e.rol?this.setState({role:"Profesor/a"}):this.setState({role:"Administrador/a"})}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(h.a,{to:this.state.redirect});var e=this.state,t=e.currentUser,a=e.role,n=r.a.createElement(I.a,null,r.a.createElement(I.a.Image,{bsPrefix:"figure",alt:"171x180",src:"/chicaliteratura_sizebig.png"}));return n=""!==this.state.currentUser.ruta?r.a.createElement(I.a,null,r.a.createElement(I.a.Image,{bsPrefix:"figure",alt:"171x180",src:t.ruta})):r.a.createElement(I.a,null,r.a.createElement(I.a.Image,{bsPrefix:"figure",alt:"171x180",src:"/chicaliteratura.png"})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"perfil-left"},r.a.createElement("ul",{className:"flex-container wrap"},r.a.createElement("li",{className:"items-column"},n),r.a.createElement("li",{className:"items-column"},r.a.createElement("h1",null,t.username)),r.a.createElement("li",{className:"items-column"},r.a.createElement("h6",null,a)),r.a.createElement("li",{className:"items-column"},r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-row-item"},r.a.createElement("img",{className:"img-icon-perfil",src:"setting.png",alt:""})),r.a.createElement("li",{className:"flex-row-item"},r.a.createElement(d.b,{to:"/editProfile"},r.a.createElement(k.a,{size:"sm",variant:"outline-light"},"Editar"))))))),r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-profile"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"label-icon"},r.a.createElement("img",{src:"user.png"})),r.a.createElement("div",{className:"label-icon"},r.a.createElement("h5",null,"Informaci\xf3n personal"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"flex-container wrap"},r.a.createElement("li",{className:"flex-item"},r.a.createElement("p",{className:"p-general"},"Nombre completo: ",t.username," ",t.surname)),r.a.createElement("li",{className:"flex-item"},r.a.createElement("p",{className:"p-general"},"Tipo de rol: ",a)),r.a.createElement("li",{className:"flex-item"},r.a.createElement("p",{className:"p-general"},"Correo: ",t.email)),t.activo?r.a.createElement("li",{className:"flex-item"},r.a.createElement("p",{className:"p-general"},"Estado ",r.a.createElement("img",{className:"status",src:"circuloVerde.png"}))):r.a.createElement("li",{className:"flex-item"},r.a.createElement("p",{className:"p-general"},"Estado ",r.a.createElement("img",{className:"status",src:"circuloRojo.png"})))))))))}}]),a}(n.Component),V=a(6),H=new(function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"getGroups",value:function(e){return f.post("/student/getGroups",{idStudent:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getRemainingGroups",value:function(e){return f.get("/student/getRemainingGroups",{params:{idStudent:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"sendGroupRequest",value:function(e,t){return f.post("/student/sendGroupRequest",{idGroup:e,idStudent:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallenge",value:function(e){return f.get("student/getChallenge",{params:{idChallenge:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallenges",value:function(e,t){return f.get("/student/getChallenges",{params:{idGroup:e,type:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallengesIndividual",value:function(e,t){return f.get("/student/getChallengesIndividual",{params:{idStudent:e,type:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMultimediaChallenge",value:function(e){return f.get("/student/getMultimediaChallenge",{params:{idChallenge:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWriting",value:function(e){return f.get("/student/getWriting",{params:{idWriting:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritings",value:function(e){return f.get("/student/getWritings",{params:{idStudent:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getVersionsfromWriting",value:function(e){return f.get("/student/getVersionsfromWriting",{params:{idWriting:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getHighestidVersionfromWriting",value:function(e){return f.get("/student/getHighestidVersionfromWriting",{params:{idWriting:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingsCollaborative",value:function(e){return f.get("/student/getWritingsCollaborative",{params:{idStudent:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingWriter",value:function(e,t,a){return f.get("/student/getWritingWriter",{params:{idGroup:e,idChallenge:t,idWriter:a}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingsStudent",value:function(e,t){return f.get("student/getWritingsStudent",{params:{idStudent:e,idGroup:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingsStudentCollection",value:function(e,t){return f.get("student/getWritingsStudentCollection",{params:{idGroup:e,idChallenge:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingsTeam",value:function(e,t){return f.get("student/getWritingsTeam",{params:{idTeam:e,idGroup:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingsTeamCollection",value:function(e,t){return f.get("student/getWritingsTeamCollection",{params:{idGroup:e,idChallenge:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getVersionsfromWritingTeam",value:function(e){return f.get("student/getVersionsfromWritingTeam",{params:{idWriting:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editWriting",value:function(e,t,a,n,r,l,o){return f.post("/student/editWriting",{idWriting:e,idGroup:t,idChallenge:a,idWriter:n,title:r,escrito:l,type:o},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"insertVersionfromWriting",value:function(e,t,a,n,r,l,o){return f.post("/student/insertVersionfromWriting",{idWriting:e,idVersion:t,idChallenge:a,idWriter:n,title:r,text:l,type:o},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getHighestidWriting",value:function(){return f.post("/student/getHighestidWriting",{},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editWritingTeam",value:function(e,t,a,n,r,l,o,c){return f.post("/student/editWritingTeam",{idWriting:e,idGroup:t,idChallenge:a,idWriter:n,title:r,escrito:l,log:o,type:c},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"createWriting",value:function(e,t,a,n,r,l){return f.post("/student/createWriting",{idGroup:e,idChallenge:t,idWriter:a,title:n,escrito:r,type:l},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"sendMultimedia",value:function(e,t,a,n){for(var r=new FormData,l=0,o=Object.keys(e);l<o.length;l++){var c=o[l];r.append("imgCollection",e[c])}return r.append("idWriter",t),r.append("idChallenge",a),f.post("/student/sendMultimedia",r,{params:{id:t,idFolder:a,type:n}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMultimediaWriting",value:function(e,t){return f.get("/student/getMultimediaWriting",{params:{idChallenge:e,idWriter:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editMultimedia",value:function(e,t,a,n,r){var l=new FormData;return l.append("idMultimedia",e),l.append("idWriter",t),l.append("idChallenge",a),l.append("idVersion",n),l.append("path",r),f.post("/student/editMultimedia",l,{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteMultimedia",value:function(e,t){return f.post("/student/deleteFile",{idMultimedia:e,path:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"createTeam",value:function(e,t,a){return f.post("/student/createTeam",{idCreator:e,idGroup:t,teamName:a},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeams",value:function(e){return f.get("/student/getTeams",{params:{idStudent:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeam",value:function(e){return f.get("/student/getTeam",{params:{idTeam:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeamStudent",value:function(){return f.get("/student/getTeamStudent",{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMembersTeam",value:function(e){return f.get("/student/getMembersTeam",{params:{idTeam:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getStudentWithoutTeam",value:function(e){return f.get("/student/getStudentWithoutTeam",{params:{idGroup:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeamStudentGroup",value:function(e,t){return f.get("/student/getTeamStudentGroup",{params:{idStudent:e,idGroup:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeamsGroup",value:function(e){return f.get("/student/getTeamsGroup",{params:{idGroup:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editTeam",value:function(e,t,a,n){return f.post("/student/editTeam",{idTeam:e,name:t,idCreator:a,idGroup:n},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteTeam",value:function(e){return f.post("/student/deleteTeam",{idTeam:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"addStudentTeam",value:function(e,t){return f.post("/student/addStudentTeam",{idTeam:e,idStudent:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"leaveStudentTeam",value:function(e,t){return f.post("/student/leaveStudentTeam",{idTeam:e,idStudent:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"joinTeam",value:function(e,t){return f.get("/student/joinTeam",{params:{idTeam:e,idStudent:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"sendMessage",value:function(e,t,a,n,r,l){return f.post("/student/sendMessage",{idGroup:e,idSender:t,idReceiver:a,idCreator:n,message:r,type:l},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMessages",value:function(e){return f.get("/student/getMessages",{params:{idStudent:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMessage",value:function(e){return f.get("/student/getMessage",{params:{idMessage:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editMessage",value:function(e){return f.post("/student/editMessage",{idMessage:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteMessage",value:function(e){return f.post("/student/deleteMessage",{idMessage:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"searchMessageByIssuer",value:function(e,t,a){return f.get("/student/searchMessageByIssuer",{params:{idGroup:e,idIssuer:t,idCreatorTeam:a}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"searchMessageByReceiver",value:function(e,t,a){return f.get("/student/searchMessageByReceiver",{params:{idGroup:e,idReceiver:t,idCreatorTeam:a}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getCollections",value:function(e,t){return f.get("/student/getCollections",{params:{idEstudiante:e,filtroBusqueda:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getCollection",value:function(e){return f.get("/student/getCollection",{params:{idCollection:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallengesFromCollection",value:function(e){return f.get("/student/getChallengesFromCollection",{params:{idCollection:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}}]),e}()),K=function(e){if(!e)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"Los campos deben contener alg\xfan dato")},Y=function(e){if(!Object(M.isEmail)(e))return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"Este correo no es valido.")},J=function(e){if(e.length<3||e.length>20)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"El nombre del usuario debe tener entre 3 a 20 caracteres.")},_=function(e){if(e.length<3||e.length>20)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"El Apellido del usuario debe tener entre 3 a 20 caracteres.")},Q=function(e){if(e.length<6||e.length>40)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"La contrase\xf1a debe tener entre 6 y 40 caracteres.")},X=function(e){if(e.length<6||e.length>40)return r.a.createElement(y.a,{variant:"danger",bsPrefix:"alert-login"},"La contrase\xf1a debe tener entre 6 y 40 caracteres.")},Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onFileChange2=function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=function(){n.setState({updateUser:Object(V.a)(Object(V.a)({},n.state.updateUser),{},{reader:a.result})})},n.setState({updateUser:Object(V.a)(Object(V.a)({},n.state.updateUser),{},{file:t,name:t.name})})}else console.log("there was an error")}},n.onChangeUsername=n.onChangeUsername.bind(Object(s.a)(n)),n.onChangeSurname=n.onChangeSurname.bind(Object(s.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(s.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(s.a)(n)),n.onChangeConfirmPassword=n.onChangeConfirmPassword.bind(Object(s.a)(n)),n.onModal=n.onModal.bind(Object(s.a)(n)),n.onTeamModal=n.onTeamModal.bind(Object(s.a)(n)),n.onDeleteModal=n.onDeleteModal.bind(Object(s.a)(n)),n.onUpdateModal=n.onUpdateModal.bind(Object(s.a)(n)),n.state={saveModal:!1,deleteModal:!1,teamModal:!1,updateModal:!1,currentUser:[],StudentTeams:[],updateUser:{username:"",surname:"",password:"",confirmPassword:"",email:"",photo:[],file:"",reader:"",name:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=E.getCurrentUser();if(null!==e.ruta||""!=e.ruta){var t=e.ruta.split("/");this.setState({updateUser:Object(V.a)(Object(V.a)({},this.state.updateUser),{},{name:t[6]})})}this.setState({currentUser:e}),this.setState({updateUser:Object(V.a)(Object(V.a)({},this.state.updateUser),{},{username:e.username,surname:e.surname,email:e.email})})}},{key:"onChangeUsername",value:function(e){e.target.value!=this.state.currentUser.username&&this.setState({updateUser:Object(V.a)(Object(V.a)({},this.state.updateUser),{},{username:e.target.value})})}},{key:"onChangeSurname",value:function(e){e.target.value!=this.state.currentUser.surname&&this.setState({updateUser:Object(V.a)(Object(V.a)({},this.state.updateUser),{},{surname:e.target.value})})}},{key:"onChangeEmail",value:function(e){e.target.value!=this.state.currentUser.email&&this.setState({updateUser:Object(V.a)(Object(V.a)({},this.state.updateUser),{},{email:e.target.value})})}},{key:"onChangePassword",value:function(e){e.target.value!=this.state.currentUser.password&&this.setState({updateUser:Object(V.a)(Object(V.a)({},this.state.updateUser),{},{password:e.target.value})})}},{key:"onChangeConfirmPassword",value:function(e){this.setState({updateUser:Object(V.a)(Object(V.a)({},this.state.updateUser),{},{confirmPassword:e.target.value})})}},{key:"onModal",value:function(e){this.setState({saveModal:e})}},{key:"onTeamModal",value:function(e){this.setState({teamModal:e})}},{key:"onDeleteModal",value:function(e){this.setState({deleteModal:e})}},{key:"onUpdateModal",value:function(e){this.setState({updateModal:e})}},{key:"logout",value:function(){E.logout()}},{key:"editProfile",value:function(){var e=this,t="";""!=this.state.currentUser.ruta&&(t=this.state.currentUser.ruta.split("/")[6]);this.state.updateUser.surname==this.state.currentUser.surname&&this.state.updateUser.username==this.state.currentUser.username&&""==this.state.updateUser.password&&this.state.updateUser.email==this.state.currentUser.email&&""==this.state.updateUser.confirmPassword&&0==this.state.updateUser.photo.length&&this.state.updateUser.name==t?(this.onUpdateModal(!0),this.onModal(!1)):this.state.updateUser.password==this.state.updateUser.confirmPassword?(E.editProfile(this.state.currentUser.id,this.state.updateUser.username,this.state.updateUser.surname,this.state.updateUser.email,this.state.updateUser.password,this.state.updateUser.photo).then((function(t){e.logout(),window.location.href="/login"})).catch((function(e){console.log(e.message)})),""!==this.state.updateUser.file?E.updatePhoto(this.state.currentUser.id,this.state.updateUser.file,3).then((function(e){console.log("todo correcto")})).catch((function(e){console.log(e.message)})):(this.onUpdateModal(!0),this.onModal(!1))):alert("Ambas contrase\xf1as no coinciden")}},{key:"deleteUser",value:function(){var e=this;"S"==this.state.currentUser.rol?H.getTeams(this.state.currentUser.id).then((function(t){e.setState({StudentTeams:t}),console.log(e.state.StudentTeams),e.state.StudentTeams.length>0&&(e.setState({teamModal:!0}),e.setState({deleteModal:!1}))})).catch((function(e){console.log(e.message)})):E.disableProfile(this.state.currentUser.id).then((function(t){e.logout(),window.location.href="/login"})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t="";return void 0!==this.state.updateUser.file.type&&this.state.updateUser.file.type.includes("image")&&(t=r.a.createElement("img",{className:"image",src:this.state.updateUser.reader})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"editPerfil-left"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{size:"sm",variant:"danger",onClick:function(){return e.onDeleteModal(!0)}},"Dar de baja esta cuenta")),r.a.createElement("img",{className:"img-editprofile-button",src:"/plumaliteratura.png",alt:""})),r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-profile"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Modificar Datos"))),r.a.createElement(b.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t}},!this.state.successful&&r.a.createElement("ul",{className:"flex-container wrap"},r.a.createElement("li",{className:"flex-item"},r.a.createElement("label",{className:"form-label"},"Nombre"),r.a.createElement(w.a,{type:"text",className:"form-control",name:"username",placeholder:this.state.currentUser.username,value:this.state.updateUser.username,onChange:this.onChangeUsername,validations:[K,J]})),r.a.createElement("li",{className:"flex-item"},r.a.createElement("label",{className:"form-label"},"Apellidos"),r.a.createElement(w.a,{type:"text",className:"form-control",name:"surname",placeholder:this.state.currentUser.surname,value:this.state.updateUser.surname,onChange:this.onChangeSurname,validations:[K,_]})),r.a.createElement("li",{className:"flex-item"},r.a.createElement("label",{className:"form-label"},"Correo"),r.a.createElement(w.a,{type:"text",className:"form-control",name:"email",placeholder:this.state.currentUser.email,value:this.state.updateUser.email,onChange:this.onChangeEmail,validations:[K,Y]})),r.a.createElement("li",{className:"flex-item-file"},r.a.createElement("label",{className:"form-label"},"Foto de perfil"),t,r.a.createElement("input",{type:"file",name:"photo",onChange:this.onFileChange2})),r.a.createElement("li",{className:"flex-item"},r.a.createElement("label",{className:"form-label"},"Contrase\xf1a"),r.a.createElement(w.a,{type:"password",className:"form-control",name:"password",placeholder:"Nueva contrase\xf1a",value:this.state.updateUser.password,onChange:this.onChangePassword,validations:[K,Q]})),r.a.createElement("li",{className:"flex-item"},r.a.createElement("label",{className:"form-label"},"Confirmar contrase\xf1a"),r.a.createElement(w.a,{type:"password",className:"form-control",name:"confirmpassword",placeholder:"Confirmar nueva contrase\xf1a",value:this.state.updateUser.confirmPassword,onChange:this.onChangeConfirmPassword,validations:[K,X]}))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(S.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})),r.a.createElement("br",null),r.a.createElement("div",{className:"section-card"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return e.onModal(!0)}},"Guardar")),r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{href:"/profile"},"Cancelar"))),r.a.createElement(T.a,{centered:!0,show:this.state.saveModal,onHide:this.state.saveModal},r.a.createElement(T.a.Header,null,r.a.createElement("h4",null,"Aviso"),r.a.createElement("img",{src:"exclamation.png"})),r.a.createElement(T.a.Body,null,r.a.createElement("p",null,"\xbfEsta seguro de aplicar estos cambios? Deber\xe1 iniciar nuevamente sesi\xf3n de su cuenta")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.editProfile()}},"Aceptar"),r.a.createElement(k.a,{variant:"secondary",onClick:function(){return e.onModal(!1)}},"Cancelar"))),r.a.createElement(T.a,{centered:!0,show:this.state.teamModal,onHide:this.state.teamModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Aviso"),r.a.createElement("img",{src:"exclamation.png"})),r.a.createElement(T.a.Body,null,r.a.createElement("h6",null,"Para poder dar de baja su cuenta, debe darse de baja en los siguientes equipos"),r.a.createElement("ul",null,this.state.StudentTeams.map((function(e,t){return r.a.createElement("li",null,e.nombreEquipo)})))),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:function(){return e.onTeamModal(!1)}},"atras"))),r.a.createElement(T.a,{centered:!0,show:this.state.deleteModal,onHide:this.state.deleteModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"\xbfEsta seguro/a?"),r.a.createElement("img",{src:"triangle.png"})),r.a.createElement(T.a.Body,null,"Si en alg\xfan momento quieres volver, podr\xe1s hacerlo contactando con nuestro equipo de apoyo o a tu centro de estudio."),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.deleteUser()}},"aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onDeleteModal(!1)}},"Cancelar"))),r.a.createElement(T.a,{centered:!0,show:this.state.updateModal,onHide:this.state.updateModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Ups..."),r.a.createElement("img",{src:"triangle.png"})),r.a.createElement(T.a.Body,null,"No hay cambios que modificar"),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:function(){return e.onUpdateModal(!1)}},"atras")))))))}}]),a}(n.Component),$=(a(95),a(497),a(35)),ee=a.n($),te=a(44),ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).deleteMessage=function(e){n.closeModalDeleteMessage();var t=0,a=n.state.dataMessages;a.map((function(n){e.id===n.id&&a.splice(t,1),t++})),n.setState({dataMessages:a}),0===a.length&&n.setState({showMessages:!1}),H.deleteMessage(e.id).then((function(e){})).catch((function(e){console.log(e.message)}))},n.askDeleteMessage=function(e){n.setState({modalDeleteMessage:!0,deleteMessage:e})},n.closeModalDeleteMessage=function(){n.setState({modalDeleteMessage:!1})},n.state={dataMessages:[],showMessages:!1,modalDeleteMessage:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getMessages(E.getCurrentUser().id).then((function(t){t.length>0&&e.setState({dataMessages:t,showMessages:!0,deleteMessage:""})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state.showMessages;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"editPerfil-left"},r.a.createElement("img",{className:"img-editprofile",src:"/plumaliteratura.png",alt:""})),r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Lista de mensajes"))),r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/message.png",alt:""}),"mensajeria de  invitaciones para unirte a un equipo.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"table-margin"},r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Emisor"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Mensaje"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Acciones"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.dataMessages.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.correo),r.a.createElement("td",null,t.nombreGrupo),r.a.createElement("td",null,r.a.createElement("div",{className:"message-text"},t.mensaje)),r.a.createElement("td",null,ee()(t.fecha).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(t.fecha).format("LT")),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/student/message/".concat(t.id)},r.a.createElement("img",{className:"img-icon",src:"/view.png",alt:""}),"Ver")),r.a.createElement("td",null,r.a.createElement("img",{className:"img-icon",src:"/delete.png",alt:""}),r.a.createElement(k.a,{size:"sm",variant:"danger",onClick:function(){return e.askDeleteMessage(t)}},"Eliminar")))}))))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},r.a.createElement("img",{src:"/message.png",alt:""}),"No hay mensajes que mostrar."))))),r.a.createElement(T.a,{show:this.state.modalDeleteMessage},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfSeguro que desea eliminar el mensaje?")," ")),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteMessage(e.state.deleteMessage)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.closeModalDeleteMessage()}},"Cancelar"))))}}]),a}(n.Component),ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).askAcceptRequest=function(){2!==n.state.message.tipo||n.state.senderHasTeam&&!n.state.senderHasTeamAsABoss?0===n.state.message.tipo?n.showModalAnswerJoinTeam():(n.showModalSenderhasTeam(),H.editMessage(n.state.message.id).then((function(e){})).catch((function(e){console.log(e.message)}))):n.acceptRequest()},n.acceptRequest=function(){if(2===n.state.message.tipo){var e,t=[{id:n.state.message.id,idGrupo:n.state.message.idGrupo,idEmisor:n.state.message.idEmisor,idReceptor:n.state.message.idReceptor,idCreador:n.state.message.idCreador,mensaje:n.state.message.mensaje,tipo:0,fecha:n.state.message.fecha,activo:n.state.message.activo}];n.setState({message:t[0]}),e=n.state.idBossTeam===t[0].idEmisor?t[0].idReceptor:t[0].idEmisor,H.joinTeam(n.state.team.id,e).then((function(e){n.showModalAcceptJoinTeam(),H.editMessage(t[0].id).then((function(e){})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}else n.showModalAnswerJoinTeam()},n.refuseRequest=function(){2===n.state.message.tipo?(n.showModalRefuseJoinTeam(),H.editMessage(n.state.message.id).then((function(e){})).catch((function(e){console.log(e.message)}))):n.showModalAnswerJoinTeam()},n.showModalAcceptJoinTeam=function(){n.setState({modalAcceptJoinTeam:!0}),setTimeout((function(){return n.setState({modalAcceptJoinTeam:!1})}),2e3)},n.showModalAnswerJoinTeam=function(){n.setState({modalAnswerJoinTeam:!0}),setTimeout((function(){return n.setState({modalAnswerJoinTeam:!1})}),2e3)},n.showModalSenderhasTeam=function(){n.setState({modalSenderHasTeam:!0}),setTimeout((function(){return n.setState({modalSenderHasTeam:!1})}),2e3)},n.showModalRefuseJoinTeam=function(){n.setState({modalRefuseJoinTeam:!0}),setTimeout((function(){return n.setState({modalRefuseJoinTeam:!1})}),2e3)},n.state={message:"",team:"",showButtons:!1,modalAcceptJoinTeam:!1,modalRefuseJoinTeam:!1,modalAnswerJoinTeam:!1,senderHasTeam:!1,modalSenderHasTeam:!1,senderHasTeamAsABoss:!1,idEmisor:-1,idBossTeam:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getMessage(this.props.match.params.idMessage).then((function(t){var a=!1;0!==t[0].tipo&&2!==t[0].tipo||(a=!0),e.setState({message:t[0],showButtons:a,idEmisor:t[0].idEmisor}),H.getTeam(e.state.message.idCreador).then((function(t){t.length>0&&(e.setState({team:t[0],idBossTeam:t[0].idCreador}),t[0].idCreador==e.state.idEmisor&&e.setState({senderHasTeamAsABoss:!0}))})).catch((function(e){console.log(e.message)})),H.getTeamStudentGroup(t[0].idEmisor,t[0].idGrupo).then((function(t){0!=t.length&&e.setState({senderHasTeam:!0})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.message,t.showButtons);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"editPerfil-left"},r.a.createElement("img",{className:"img-editprofile",src:"/plumaliteratura.png",alt:""})),r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Mensaje"))),r.a.createElement("div",{className:"row-edit"},a?r.a.createElement("div",{class:"message-inputs"},r.a.createElement("div",{className:"row-edit"},r.a.createElement("h6",null,this.state.message.mensaje)),r.a.createElement("div",{className:"form-select"},r.a.createElement(k.a,{variant:"outline-primary",onClick:function(){return e.askAcceptRequest()}}," Aceptar")),r.a.createElement("div",{className:"form-select"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{variant:"outline-danger",onClick:function(){return e.refuseRequest()}}," Rechazar")))):r.a.createElement("div",{class:"message-inputs"},r.a.createElement("label",{className:"message-label"}," Mensaje "),r.a.createElement("td",null,r.a.createElement("textarea",{name:"mensaje",rows:"10",cols:"70",value:this.state.message.mensaje,readOnly:!0,style:{resize:"none"}}))),r.a.createElement("div",{className:"form-select"},r.a.createElement("div",{className:"form-button-column"},r.a.createElement(k.a,{variant:"secondary",onClick:function(){return window.location.href="/student/messenger"}},"Volver"))))))),r.a.createElement(T.a,{show:this.state.modalAcceptJoinTeam},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Has aceptado la solicitud")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalRefuseJoinTeam},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Has rechazado la solicitud")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalAnswerJoinTeam},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Ya has respondido a la solicitud")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalSenderHasTeam},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," El estudiante ya tiene equipo")),r.a.createElement(T.a.Footer,null)))}}]),a}(n.Component),re=a(17),le=a.n(re),oe=a(20),ce=a(23),ie=new(function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"getUsers",value:function(e,t){return f.post("/admin/getUsers",{clave:e,tipo:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getProfile",value:function(e){return f.get("/admin/getProfile",{params:{idUser:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getScriptsByStudent",value:function(e){return f.get("/admin/getScriptsByStudent",{params:{id:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getAllGroups",value:function(){return f.get("/admin/getAllGroups",{params:{}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deactivateUser",value:function(e){return f.post("/admin/deactivateUser/",{idUser:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteUser",value:function(e){return f.post("/admin/deleteUser/",{idUser:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getGroupData",value:function(e){return f.get("/admin/getGroupData",{params:{idGroup:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"renameGroup",value:function(e,t){return f.post("/admin/renameGroup",{id:e,name:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deactivateGroup",value:function(e){return f.post("/admin/deactivateGroup",{id:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getStudentsOfGroup",value:function(e){return f.post("/admin/getStudentsOfGroup",{grupo:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getGroupsOfTeacher",value:function(e){return f.get("/admin/getGroupsOfTeacher",{params:{idEstudiante:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}}]),e}()),se=(a(71),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).peticionGet=function(){ie.getAllGroups().then((function(e){n.setState({data:e}),n.filterData()})).catch((function(e){console.log(e.message)}))},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.filterData=function(){var e=[];n.state.filteredData=[];for(var t=0;t<n.state.data.length;t++)new RegExp(n.state.searchKey,"i").test(n.state.data[t].nombre)&&e.push(n.state.data[t]);n.setState({filteredData:e})},n.state={data:[],filteredData:[],searchKey:"",searchType:"nombre"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=E.getCurrentUser();this.setState({currentUserId:e.id}),this.setState({currentUserRole:e.rol}),this.peticionGet()}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null),t=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Espacio para gestionar los grupos activos.")),a=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:"/team_black.png",alt:""})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/admin/viewGroup/".concat(e.id)},r.a.createElement(k.a,{text:"Ver Grupo"}," Ver grupo ")))),r.a.createElement("hr",null))})));return"T"===this.state.currentUserRole&&(t=r.a.createElement(r.a.Fragment,null),a=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:"/team_black.png",alt:""})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/teacher/viewGroup/".concat(e.id)},r.a.createElement(k.a,{text:"Ver Grupo"}," Ver grupo ")))),r.a.createElement("hr",null))})))),0===this.state.filteredData.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},r.a.createElement("h5",null," hay resultados para la b\xfasqueda realizada."))),a=r.a.createElement("div",null)),r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Gestionar grupos"))),r.a.createElement("br",null),t,r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar grupo ")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"searchKey",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""})))),r.a.createElement("div",{className:"row-edit"},e,a))))}}]),a}(n.Component)),me=new(function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"getComments",value:function(e){return f.get("/teacher/getComments",{params:{idWriting:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getGroups",value:function(e){return f.post("/teacher/groups",{idTeacher:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getProfile",value:function(e){return f.get("/teacher/getProfile",{params:{idUser:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getGroupsStudent",value:function(e){return f.get("/teacher/getStudentGroups",{params:{idEstudiante:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"showGroupRequest",value:function(){return f.get("/teacher/showGroupRequest",{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"acceptGroupRequest",value:function(e,t){return f.post("/teacher/acceptGroupRequest",{id:e,idEstudiante:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getScriptsByStudent",value:function(e){return f.get("/teacher/getScriptsByStudent",{params:{id:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"searchStudent",value:function(e,t){return f.post("/teacher/searchStudent",{searchStudent:e,type:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"searchApplicant",value:function(e,t){return f.post("/teacher/searchApplicant",{clave:e,tipo:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"acceptApplicantStudent",value:function(e){return f.get("/user/acceptApplicant",{params:{idUser:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"inviteToGroup",value:function(e,t){return f.post("/teacher/inviteStudentToGroup",{grupo:e,idEstudiante:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"kickFromGroup",value:function(e,t){return f.post("/teacher/kickStudentFromGroup",{grupo:e,idEstudiante:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"createGroup",value:function(e,t){return f.post("/teacher/createGroup",{idTeacher:e,nombre:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeamsOfGroup",value:function(e){return f.post("/teacher/getTeamsOfGroup",{grupo:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getCategories",value:function(){return f.get("/teacher/getCategories",{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"createChallenge",value:function(e,t,a,n,r,l,o){return f.post("/teacher/createChallenge",{idGroup:e,title:t,description:a,type:n,category:r,qualification:l,endDate:o},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editChallenge",value:function(e,t,a,n,r,l,o,c){return f.post("/teacher/editChallenge",{idChallenge:e,idGroup:t,title:a,description:n,type:r,category:l,qualification:o,endDate:c},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteChallenge",value:function(e){return f.post("/teacher/deleteChallenge",{idChallenge:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallenge",value:function(e){return f.get("/teacher/getChallenge",{params:{idChallenge:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallenges",value:function(e){return f.get("/teacher/Challenges",{params:{idGroup:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMultimediaChallenge",value:function(e){return f.get("/teacher/getMultimediaChallenge",{params:{idChallenge:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"sendMultimediaChallenge",value:function(e,t,a,n){for(var r=new FormData,l=0,o=Object.keys(e);l<o.length;l++){var c=o[l];r.append("imgCollection",e[c])}return r.append("idTeacher",t),r.append("idChallenge",a),f.post("/teacher/sendMultimediaChallenge",r,{params:{id:t,idFolder:a,type:1}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteMultimedia",value:function(e,t){return f.post("/teacher/deleteFile",{idMultimedia:e,path:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingsStudent",value:function(e,t){return f.get("/teacher/getWritingsStudent",{params:{idGroup:e,idChallenge:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message)}))}},{key:"getWriting",value:function(e){return f.get("/teacher/getWriting",{params:{idWriting:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getWritingsTeam",value:function(e,t){return f.get("teacher/getWritingsTeam",{params:{idGroup:e,idChallenge:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"editWriting",value:function(e,t,a,n,r,l,o,c,i,s){return f.post("/teacher/editWriting",{idWriting:e,idGroup:t,idChallenge:a,idWriter:n,title:r,escrito:l,score:o,commentary:c,type:i,finish:s},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMultimediaWriting",value:function(e,t){return f.get("/teacher/getMultimediaWriting",{params:{idChallenge:e,idWriter:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeamStudentGroup",value:function(e,t){return f.get("/teacher/getTeamStudentGroup",{params:{idStudent:e,idGroup:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getTeam",value:function(e){return f.get("/teacher/getTeam",{params:{idTeam:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getMembersTeam",value:function(e){return f.get("/teacher/getMembersTeam",{params:{idTeam:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getScriptsByTeam",value:function(e){return f.get("/teacher/getScriptsByTeam",{params:{id:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"createCollection",value:function(e,t,a){return f.post("/teacher/createCollection",{nombreColeccion:e,idProfesor:t,idGrupo:a},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"addChallengeToCollection",value:function(e,t){return f.post("/teacher/addChallengeToCollection",{idColeccion:e,idDesafio:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getCollections",value:function(e,t){return f.get("/teacher/getCollections",{params:{idProfesor:e,filtroBusqueda:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getCollection",value:function(e){return f.get("/teacher/getCollection",{params:{idCollection:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallengesFromCollection",value:function(e){return f.get("/teacher/getChallengesFromCollection",{params:{idCollection:e}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"getChallengesNotInCollection",value:function(e,t){return f.get("/teacher/getChallengesNotInCollection",{params:{idGroup:e,idCollection:t}},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteChallengeFromCollection",value:function(e,t){return f.post("/teacher/deleteChallengeFromCollection",{idCollection:e,idChallenge:t},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}},{key:"deleteCollection",value:function(e){return f.post("/teacher/deleteCollection",{idCollection:e},{headers:{Authorization:"Bearer ".concat(p())}}).then((function(e){return e.data})).catch((function(e){console.log(e.message),window.location.href="/500"}))}}]),e}()),ue=a(57),de=(n.Component,function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).peticionGetTeacher=function(){ie.getProfile(n.state.data.idprofesor).then((function(e){n.setState({teacher:e})})).catch((function(e){console.log(e.message)}))},n.handleChangeRename=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.rename=function(){ie.renameGroup(n.state.data.id,n.state.newName).then((function(e){n.peticionGet()})).catch((function(e){console.log(e.message)}))},n.deactivateGroup=function(){ie.deactivateGroup(n.state.data.id).then((function(e){window.location.href="/homeadmin"})).catch((function(e){console.log(e.message)}))},n.state={data:[],currentUserId:"",currentUserRole:"",teacher:[],newName:""},n}return Object(i.a)(a,[{key:"peticionGet",value:function(){var e=this;ie.getGroupData(this.props.idGroup).then((function(t){e.setState({data:t}),e.peticionGetTeacher(),e.props.handler()})).catch((function(e){console.log(e.message)}))}},{key:"componentDidMount",value:function(){var e=E.getCurrentUser();this.setState({currentUserId:e.id}),this.setState({currentUserRole:e.rol}),this.peticionGet()}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Cambiar nombre"),r.a.createElement("input",{type:"text",name:"newName",onChange:this.handleChangeRename})),a=r.a.createElement(k.a,{size:"sm",text:"Cambiar",onClick:function(){return e.rename()}},"Cambiar");""===this.state.newName&&(a=r.a.createElement(k.a,{size:"sm",disabled:!0,text:"Cambiar",onClick:function(){return e.rename()}},"Cambiar"));var n=r.a.createElement(k.a,{size:"sm",text:"Desactivar grupo",onClick:function(){return e.deactivateGroup()}},"Desactivar grupo"),l="",o=r.a.createElement(r.a.Fragment,null),c=r.a.createElement(r.a.Fragment,null),i=r.a.createElement(r.a.Fragment,null);return void 0!=this.state.teacher&&(c=r.a.createElement(k.a,{size:"sm",href:"/admin/users/viewProfile/".concat(this.state.teacher.id),text:"Ver Perfil"},"Ver perfil"),i=r.a.createElement("label",{className:"form-label"},this.state.teacher.nombre," ",this.state.teacher.apellidos),"T"===this.state.currentUserRole&&(c=r.a.createElement("h4",null,this.state.teacher.nombre," ",this.state.teacher.apellidos)),void 0!=this.state.teacher.foto&&(l=this.state.teacher.ruta,o=r.a.createElement("img",{src:l,alt:"",style:{width:"4rem",borderRadius:"80%"}}))),"A"!=this.state.currentUserRole&&(t=r.a.createElement("div",null),a=r.a.createElement("div",null),n=r.a.createElement("div",null)),"T"===this.state.currentUserRole&&this.state.currentUserId===this.state.data.idprofesor&&(t=r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Cambiar nombre"),r.a.createElement("input",{type:"text",name:"newName",onChange:this.handleChangeRename})),a=r.a.createElement(k.a,{text:"Cambiar",onClick:function(){return e.rename()}},"Cambiar")),r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("h3",null," Grupo ",this.state.data.nombre),t,r.a.createElement("div",{className:"form-button-team"},a),r.a.createElement("div",{className:"form-button-team"},n)),r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-button-team"},r.a.createElement("label",{className:"form-label",htmlFor:""},r.a.createElement("h5",null," Creado por"))),o,r.a.createElement("div",{className:"form-button-team"},i),r.a.createElement("div",{className:"form-button-team"},c))))}}]),a}(n.Component)),he=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).filterData=function(){for(var e=[],t=0;t<n.state.data.length;t++)"email"==n.state.searchType?new RegExp(n.state.searchStudent,"i").test(n.state.data[t].correo)&&e.push(n.state.data[t]):(new RegExp(n.state.searchStudent,"i").test(n.state.data[t].nombre)||new RegExp(n.state.searchStudent,"i").test(n.state.data[t].apellidos))&&e.push(n.state.data[t]);n.setState({filteredData:e})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchType=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],filteredData:[],currentUserId:"",currentUserRole:"",searchStudent:"",searchType:"nombre",showListStudents:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=E.getCurrentUser();this.setState({currentUserId:t.id}),this.setState({currentUserRole:t.rol}),ie.getStudentsOfGroup(this.props.idGroup).then((function(t){t.length>0&&(e.setState({data:t}),e.setState({filteredData:t}),e.setState({showListStudents:!0}),e.filterData())}))}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null," "),t=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("div",{className:"form-items-row"},r.a.createElement("img",{src:""!=e.ruta?e.ruta:"/chicaliteratura.png",alt:"",style:{width:"40%",borderRadius:"80%"}})),r.a.createElement("div",{className:"form-items-row"},e.nombre," ",e.apellidos),r.a.createElement("div",{className:"form-items-row"},e.correo),r.a.createElement("div",{className:"form-items-row"},r.a.createElement(d.b,{key:e.id,to:"/admin/users/viewProfile/".concat(e.id)},r.a.createElement(k.a,{variant:"outline-secondary",text:"Ver Perfil"}," Ver perfil "))),r.a.createElement("hr",null))})));"T"===this.state.currentUserRole&&(t=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:""==e.ruta?"/chicaliteratura.png":e.ruta,alt:"",style:{width:"60px",borderRadius:"80%",margin:"0 1rem 0 1rem"}})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},e.apellidos),r.a.createElement("li",{className:"flex-item-list"},e.correo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/teacher/students/viewProfile/".concat(e.id)},r.a.createElement(k.a,{size:"sm",variant:"outline-secondary",text:"Ver Perfil"}," Ver perfil ")))),r.a.createElement("hr",null))})))),0===this.state.filteredData.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay estudiantes con esos par\xe1metros.")),t=r.a.createElement(r.a.Fragment,null));var a=this.state.showListStudents;return r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,a?r.a.createElement("div",null,r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar estudiante")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"searchStudent",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""})),r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Escoja c\xf3mo buscar")),r.a.createElement("li",{className:"items-row"},r.a.createElement("select",{name:"searchType",id:"searchType",onChange:this.handleChangeSearchType},r.a.createElement("option",{value:"nombre"},"Nombre"),r.a.createElement("option",{value:"email"},"Email")))),r.a.createElement("br",null),e,t):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay estudiantes con esos par\xe1metros."))))}}]),a}(n.Component),ge=a(30),fe=(a(80),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).cambiaVentana=function(e){n.setState({ventana:e})},n.state={ventana:1,data:[]},n.handler=n.handler.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"handler",value:function(){this.peticionGet()}},{key:"peticionGet",value:function(){var e=this;ie.getGroupData(this.props.match.params.idGroup).then((function(t){e.setState({data:t})})).catch((function(e){console.log(e.message)}))}},{key:"componentDidMount",value:function(){this.peticionGet()}},{key:"render",value:function(){var e=this.props.match.params.idGroup,t=r.a.createElement(ge.b,null,r.a.createElement(ge.a,null,"DATOS"),r.a.createElement(ge.a,null,"ESTUDIANTES")),a=r.a.createElement(he,{key:e,idGroup:e});return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null," Informaci\xf3n del grupo "))),r.a.createElement(ge.d,null,t,r.a.createElement(ge.c,null,r.a.createElement(de,{key:e,idGroup:e,handler:this.handler})),r.a.createElement(ge.c,null,a)))))}}]),a}(n.Component)),pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChangeName=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createGroup=function(){n.onModalCreateGroup(!1),n.onModalCreateGroup(!1),me.createGroup(n.state.currentUserId,n.state.groupName).then((function(e){console.log(e),window.location.href="/teacher/createGroup"})).catch((function(e){console.log(e.message)}))},n.onModalCreateGroup=function(e){n.setState({modalCreateGroup:e})},n.onModal=n.onModal.bind(Object(s.a)(n)),n.state={data:[],onModal:!1,modalCreateGroup:!1,filteredData:[],groupName:"",currentUserId:"",currentUserRole:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=E.getCurrentUser();this.setState({currentUserId:e.id}),this.setState({currentUserRole:e.rol})}},{key:"onModal",value:function(e){this.setState({onModal:e})}},{key:"checkCreateGroup",value:function(){""==this.state.groupName?this.onModal(!0):this.onModalCreateGroup(!0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Crear un grupo")),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Introduzca el nombre del nuevo grupo que desea crear.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Nombre del grupo nuevo : "),r.a.createElement("input",{placeholder:"Ingrese un nombre",className:"form-control",type:"text",name:"groupName",onChange:this.handleChangeName}),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.checkCreateGroup()}},"Aceptar")))),r.a.createElement(T.a,{centered:!0,show:this.state.onModal,onHide:this.state.onModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Ups...")),r.a.createElement(T.a.Body,null,"No ha ingresado un nombre"),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:function(){return e.onModal(!1)}},"Atras"))),r.a.createElement(T.a,{show:this.state.modalCreateGroup},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," \xbfEst\xe1 seguro de crear el grupo?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.createGroup()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalCreateGroup(!1)}},"Cancelar"))))}}]),a}(n.Component);a(500);function Ee(e){var t=e.links,a=e.url;return r.a.createElement("div",{className:"sidebar-left"},r.a.createElement("ul",{className:"container-column-list"},t.map((function(e){return r.a.createElement("li",{className:"item-column-list wrap"},r.a.createElement(d.b,{key:e.id,to:"".concat(a).concat(e.path)},r.a.createElement("img",{className:"img-icon",src:e.icon}),e.name))}))))}var ve=a(58),be=a(26),Ce=(a(105),a(51)),we=a.n(Ce),Ne=a(706),Se=a(350),ye=a(50),ke=a(707),Te=a(716),je=function(e){var t=e.handleDateChange,a=e.param;return r.a.createElement("ul",{className:"flex-row"},r.a.createElement(ye.a,{utils:Se.a},r.a.createElement(Ne.a,{container:!0,justify:"space-around"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(ke.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",value:a,onChange:t,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(Te.a,{margin:"normal",id:"time-picker",value:a,onChange:t,KeyboardButtonProps:{"aria-label":"change time"}})))))},Oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).createChallenge=function(){me.createChallenge(n.props.match.params.idGroup,n.state.form.title,n.state.form.description,n.state.form.type,n.state.form.idCategory,n.state.form.typeQualification,n.state.form.date).then((function(e){var t=e.data;n.state.imgCollection.length>0?me.sendMultimediaChallenge(n.state.imgCollection,E.getCurrentUser().id,t,n.state.form.type).then((function(e){window.location.href="/teacher/groups"})).catch((function(e){console.log(e.message)})):window.location.href="/teacher/groups"})).catch((function(e){console.log(e.message)}))},n.handleChange=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},Object(oe.a)({},t.target.name,t.target.value))});case 2:console.log(n.state.form);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleErrors=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,l=Object(V.a)({},n.state.formErrors);switch(a){case"title":l.title=r.length<1?"Campo obligatorio requerido":""}n.setState({formErrors:l,form:Object(V.a)(Object(V.a)({},n.state.form),{},Object(oe.a)({},a,r))})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.changeView=function(){window.location.href="/teacher/groups"},n.handleDateChange=function(e){var t=new Date,a=Object(V.a)({},n.state.formErrors);a.date=t>e?"Campo fecha no v\xe1lida":"",n.setState({formErrors:a,form:Object(V.a)(Object(V.a)({},n.state.form),{},{date:e})})},n.qualificationSelection=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{typeQualification:e.target.value})})},n.handleSelectionChange=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{type:e.target.value})})},n.handleSelectionCategory=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{idCategory:e.target.value})})},n.disabledButton=function(){var e=new Date;return 0===n.state.form.title.length||e>n.state.form.date||0===n.state.form.description.length},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.state={imgCollection:[],editorState:be.EditorState.createEmpty(),data:[],categories:[],formErrors:{title:"",description:"",date:"",idCategory:"",type:""},form:{title:"",description:"",type:"1",typeQualification:"1",idCategory:"1",date:new Date}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getCategories().then((function(t){e.setState({categories:t})})).catch((function(e){console.log(e.message)}))}},{key:"onModal",value:function(e){this.setState({stateModal:e})}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state.formErrors,a=this.state.editorState;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Crear desaf\xedo"))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Titulo"),r.a.createElement("input",{className:t.title.length>0?"error":"form-control",type:"text",name:"title",placeholder:"Escribe el t\xedtulo",onChange:this.handleErrors}),t.title.length>0&&r.a.createElement("span",{className:"alert-login"},t.title)),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Descripci\xf3n"),r.a.createElement(ve.Editor,{editorState:a,wrapperClassName:"wrapperClassName1",editorClassName:"editorClassName1",toolbarClassName:"toolbarClassName1",onEditorStateChange:this.onEditorStateChange,onChange:function(t,n){var r=Object(V.a)({},e.state.formErrors);a.getCurrentContent().hasText()?r.description="":r.description="Campo texto vac\xedo",e.setState({formErrors:r,form:Object(V.a)(Object(V.a)({},e.state.form),{},{description:we()(Object(be.convertToRaw)(a.getCurrentContent()))})})},className:t.description.length>0?"error":"form-control"}),t.description.length>0&&r.a.createElement("span",{className:"alert-login"},t.description)),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"}," Tipo de Desaf\xedo "),r.a.createElement("select",{onChange:this.handleSelectionChange},r.a.createElement("option",{value:"1"}," Individual"),r.a.createElement("option",{value:"2"}," Colaborativo")))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Categor\xeda"),r.a.createElement("select",{onChange:this.handleSelectionCategory},this.state.categories.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id}," ",e.nombre," ")}))))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"}," Tipo de Calificaci\xf3n "),r.a.createElement("select",{onChange:this.qualificationSelection},r.a.createElement("option",{value:"1"}," Numerica"),r.a.createElement("option",{value:"2"}," Conceptual"))))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Selecciona la fecha y hora final ")),r.a.createElement("div",{className:"form-select"},r.a.createElement(je,{className:t.date.length>0?"error":"form-control",handleDateChange:this.handleDateChange,param:this.state.form.date}),t.date.length>0&&r.a.createElement("span",{className:"alert-login"},t.date)),r.a.createElement("div",{class:"row-edit"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Puedes agregar un fichero multimedia si lo deseas (imagen,video o audio): "),r.a.createElement("input",{type:"file",name:"imgCollection",onChange:this.onFileChange,multiple:!0}))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return e.onModal(!0)},disabled:this.disabledButton()},"Enviar")),r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return e.changeView()}},"Cancelar"))),r.a.createElement(T.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.state.stateModal,onHide:this.state.stateModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,{id:"contained-modal-title-vcenter"},"Aviso")),r.a.createElement(T.a.Body,null,"\xbfEsta seguro de enviar este desaf\xedo?"),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.createChallenge()}},"Si"),r.a.createElement(k.a,{onClick:function(){return e.onModal(!1)}},"No"))))))}}]),a}(n.Component),Me=a(69),xe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).editChallenge=function(){me.editChallenge(n.state.challenge.id,n.props.match.params.idGroup,n.state.form.title,n.state.form.description,n.state.form.type,n.state.form.idCategory,n.state.form.typeQualification,n.state.form.date).then((function(e){n.state.imgCollection.length>0?me.sendMultimediaChallenge(n.state.imgCollection,E.getCurrentUser().id,n.props.match.params.idChallenge,n.state.form.type).then((function(e){window.location.href="/teacher/groups"})).catch((function(e){console.log(e.message)})):window.location.href="/teacher/groups"})).catch((function(e){console.log(e.message)}))},n.deleteFile=function(e){n.onModalDeleteFile(!1);var t=0,a=n.state.dataMediaChallenge;a.map((function(n){e.id===n.id&&a.splice(t,1),t++})),n.setState({dataMediaChallenge:a}),me.deleteMultimedia(e.id,e.ruta).then((function(e){})).catch((function(e){console.log(e.message)}))},n.handleChange=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},Object(oe.a)({},t.target.name,t.target.value))});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleErrors=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,l=Object(V.a)({},n.state.formErrors);switch(a){case"title":l.title=r.length<1?"Campo obligatorio requerido":""}n.setState({formErrors:l,form:Object(V.a)(Object(V.a)({},n.state.form),{},Object(oe.a)({},a,r))})},n.onContentStateChange=function(e){n.setState({contentState:e})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.changeView=function(){window.location.href="/teacher/groups"},n.qualificationSelection=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{typeQualification:e.target.value})})},n.handleDateChange=function(e){var t=new Date,a=Object(V.a)({},n.state.formErrors);a.date=t>e?"Campo Fecha no v\xe1lida":"",n.setState({formErrors:a,form:Object(V.a)(Object(V.a)({},n.state.form),{},{date:e})})},n.handleSelectionChange=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{type:e.target.value})})},n.handleSelectionCategory=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{idCategory:e.target.value})})},n.showTitle=function(e){return e.ruta.split("/")[8]},n.editorChange=function(e){var t=Object(V.a)({},n.state.formErrors);e.getCurrentContent().hasText()?t.description="":t.description="Texto Vac\xedo",n.setState({form:Object(V.a)(Object(V.a)({formErrors:t},n.state.form),{},{description:we()(Object(be.convertToRaw)(n.state.editorState.getCurrentContent()))})})},n.askDeleteFile=function(e){var t=e.ruta.split("/");n.setState({nameDeleteFileMedia:t[8],deleteFileMedia:e,modalDeleteFile:!0})},n.disabledButton=function(){var e=new Date;return 0===n.state.form.title.length||e>n.state.form.date||0===n.state.form.description.length||"<p></p>\n"===n.state.form.description},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.onModalSave=n.onModalSave.bind(Object(s.a)(n)),n.state={imgCollection:[],editorState:be.EditorState.createEmpty(),contentState:null,dataMediaChallenge:[],categories:[],challenge:"",modalDeleteFile:!1,nameDeleteFileMedia:"",deleteFileMedia:"",formErrors:{title:"",description:"",date:""},form:{title:"",description:"",type:"",typeQualification:"1",idCategory:"",date:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getCategories().then((function(t){e.setState({categories:t})})).catch((function(e){console.log(e.message)})),me.getChallenge(this.props.match.params.idChallenge).then((function(t){var a=Object(Me.a)(t[0].descripcion),n=be.EditorState.createWithContent(a);e.setState({editorState:n,challenge:t[0],form:Object(V.a)(Object(V.a)({},e.state.form),{},{title:t[0].titulo,description:t[0].descripcion,type:t[0].colaborativo,typeQualification:t[0].tipoCalificacion,idCategory:t[0].idCategoria,date:t[0].fechaFin})})})).catch((function(e){console.log(e.message)})),me.getMultimediaChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({dataMediaChallenge:t.data})})).catch((function(e){console.log(e.message)}))}},{key:"onModalSave",value:function(e){this.setState({stateModal:e})}},{key:"onModalDeleteFile",value:function(e){this.setState({modalDeleteFile:e})}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state,a=t.editorState,n=t.formErrors,l=t.dataMediaChallenge;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null," Modificar desaf\xedo "))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-inputs"},r.a.createElement("label",{className:"form-label"},"T\xedtulo "),r.a.createElement("input",{className:n.title.length>0?"error":"form-input",type:"text",name:"title",placeholder:"escribe el t\xedtulo",value:this.state.form.title,onChange:this.handleErrors}),n.title.length>0&&r.a.createElement("span",{className:"alert-login"},n.title))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Descripci\xf3n"),r.a.createElement(ve.Editor,{editorState:a,wrapperClassName:"wrapperClassName1",editorClassName:"editorClassName1",toolbarClassName:"toolbarClassName1",onEditorStateChange:this.onEditorStateChange,onContentStateChange:this.onContentStateChange,onChange:function(t,n){var r=Object(V.a)({},e.state.formErrors);a.getCurrentContent().hasText()?r.description="":r.description="Campo texto vac\xedo",e.setState({formErrors:r,form:Object(V.a)(Object(V.a)({},e.state.form),{},{description:we()(Object(be.convertToRaw)(e.state.editorState.getCurrentContent()))})})},className:n.description.length>0?"error":"form-control"}),n.description.length>0&&r.a.createElement("span",{className:"alert-login"},n.description)),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Categor\xeda"),r.a.createElement("select",{value:this.state.form.idCategory,onChange:this.handleSelectionCategory},this.state.categories.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nombre)}))))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Tipo de desafio"),r.a.createElement("select",{value:this.state.form.type,onChange:this.handleSelectionChange},r.a.createElement("option",{value:"1"},"Individual"),r.a.createElement("option",{value:"2"},"Colaborativo")))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"}," Tipo de Calificaci\xf3n "),r.a.createElement("select",{value:this.state.form.typeQualification,onChange:this.qualificationSelection},r.a.createElement("option",{value:"1"}," Numerica"),r.a.createElement("option",{value:"2"}," Conceptual"))))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"}," Fecha y hora de fin del desaf\xedo ")),r.a.createElement("div",{className:"form-select"},r.a.createElement(je,{className:n.date.length>0?"error":"form-control",handleDateChange:this.handleDateChange,param:this.state.form.date}),n.date.length>0&&r.a.createElement("span",{className:"alert-login"},n.date)),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"}," Ficheros Multimedia "),l.length>0?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},l.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver"))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return e.askDeleteFile(t)}},"Eliminar"))))}))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement("p",null,"No hay ficheros para mostrar"))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Puedes agregar un fichero multimedia si lo deseas (imagen,video o audio)"),r.a.createElement("input",{type:"file",name:"imgCollection",onChange:this.onFileChange,multiple:!0}))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return e.onModalSave(!0)},disabled:this.disabledButton()},"Guardar")),r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return e.changeView()}},"Cancelar"))),r.a.createElement(T.a,{centered:!0,show:this.state.stateModal,onHide:this.state.stateModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Aviso"),r.a.createElement("img",{src:"../../../exclamation.png"})),r.a.createElement(T.a.Body,null,"\xbfDesea guardar los cambios?"),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.editChallenge()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalSave(!1)}},"Cancelar"))),r.a.createElement(T.a,{centered:!0,show:this.state.modalDeleteFile,onHide:this.state.modalDeleteFile},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Aviso",r.a.createElement("img",{src:"../../../triangle.png"}))),r.a.createElement(T.a.Body,null,"\xbfDesea eliminar ",this.state.nameDeleteFileMedia,"?"),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteFile(e.state.deleteFileMedia)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalDeleteFile(!1)}},"Cancelar"))))))}}]),a}(n.Component),De=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[],memberData:[]},n}return Object(i.a)(a,[{key:"peticionGet",value:function(){var e=this;me.getTeam(this.props.idTeam).then((function(t){e.setState({data:t}),e.peticionGetMembers()})).catch((function(e){console.log(e.message)}))}},{key:"peticionGetMembers",value:function(){var e=this;me.getMembersTeam(this.props.idTeam).then((function(t){e.setState({memberData:t})})).catch((function(e){console.log(e.message)}))}},{key:"componentDidMount",value:function(){this.peticionGet()}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null," "),t=r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.memberData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("br",null),r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:""!=e.ruta?e.ruta:"/chicaliteratura.png",alt:"",style:{width:"60px",borderRadius:"80%",margin:"0 1rem 0 1rem"}})),r.a.createElement("li",{className:"flex-item-list"},e.nombreEstudiante),r.a.createElement("li",{className:"flex-item-list"},e.apellidoEstudiante),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/teacher/students/viewProfile/".concat(e.idEstudiante)},r.a.createElement(k.a,{text:"Ver Perfil"}," Ver perfil ")))),r.a.createElement("hr",null))}))));return r.a.createElement("div",null,e,t)}}]),a}(n.Component),Ge=(a(235),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).peticionGet=function(){me.getScriptsByTeam(n.props.idTeam).then((function(e){console.log(e),n.setState({data:e}),console.log(e),n.setState({filteredData:e})})).catch((function(e){console.log(e.message)}))},n.filterData=function(){var e=[];n.state.filteredData=[];for(var t=0;t<n.state.data.length;t++)"titulo"==n.state.searchType?new RegExp(n.state.searchKey,"i").test(n.state.data[t].titulo)&&e.push(n.state.data[t]):new RegExp(n.state.searchKey,"i").test(n.state.data[t].nombre)&&e.push(n.state.data[t]);n.setState({filteredData:e})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchType=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],filteredData:[],searchKey:"",searchType:"nombre"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.peticionGet()}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null," "),t=r.a.createElement("div",{className:"scriptList"},this.state.filteredData.map((function(e){return r.a.createElement("div",{className:"scriptCardContainer"},r.a.createElement(L.a,{key:e.idGrupo,style:{width:"19rem",padding:"0 !important"},clclassName:"mb-2",bg:"Light"},r.a.createElement(L.a.Header,null,r.a.createElement(d.b,{to:"/teacher/editWriting/".concat(e.idGrupo,"/").concat(e.idDesafio,"/").concat(e.id,"/").concat(e.idEstudiante)},r.a.createElement("h5",null,e.nombre))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,r.a.createElement("h6",null,"Desaf\xedo")),r.a.createElement(L.a.Text,null,r.a.createElement("h5",null,e.titulo)))))})));return 0===this.state.filteredData.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},r.a.createElement("h6",null,"No hay resultados para la b\xfasqueda realizada."))),t=r.a.createElement(r.a.Fragment,null)),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar escrito")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"searchKey",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""})),r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label",htmlFor:"searchType"},"Escoja c\xf3mo buscar")),r.a.createElement("li",{className:"items-row"},r.a.createElement("select",{name:"searchType",id:"searchType",onChange:this.handleChangeSearchType},r.a.createElement("option",{value:"nombre"},"Nombre"),r.a.createElement("option",{value:"titulo"},"T\xedtulo")))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("h6",null," Resultados de buscar escritos por ",this.state.searchType," similar a ",this.state.searchKey)),e,t)}}]),a}(n.Component)),Fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).cambiaVentana=function(e){n.setState({ventana:e})},n.handler=n.handler.bind(Object(s.a)(n)),n.state={ventana:1,data:[]},n}return Object(i.a)(a,[{key:"handler",value:function(){this.peticionGet()}},{key:"peticionGet",value:function(){var e=this;me.getTeam(this.props.match.params.idTeam).then((function(t){e.setState({data:t})})).catch((function(e){console.log(e.message)}))}},{key:"componentDidMount",value:function(){this.peticionGet()}},{key:"render",value:function(){var e=this.props.match.params.idTeam,t=r.a.createElement(ge.b,null,r.a.createElement(ge.a,null,"MIEMBROS"),r.a.createElement(ge.a,null,"ESCRITOS")),a=r.a.createElement(Ge,{key:e,idTeam:e});return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Infomaci\xf3n del equipo")),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Desde este espacio puede ver a los miembros y escritos de un equipo.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(ge.d,null,t,r.a.createElement(ge.c,null,r.a.createElement(De,{key:e,idTeam:e,handler:this.handler})),r.a.createElement(ge.c,null,a))))))}}]),a}(n.Component),We=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).filterData=function(){for(var e=[],t=0;t<n.state.data.length;t++)"email"==n.state.searchType?new RegExp(n.state.searchStudent,"i").test(n.state.data[t].correo)&&e.push(n.state.data[t]):(new RegExp(n.state.searchStudent,"i").test(n.state.data[t].nombre)||new RegExp(n.state.searchStudent,"i").test(n.state.data[t].apellidos))&&e.push(n.state.data[t]);n.setState({filteredData:e})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchType=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeViewStudentProfile=function(e){window.location.href="/teacher/students/viewProfile/"+e},n.state={data:[],filteredData:[],searchStudent:"",searchType:"nombre",showListStudents:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.searchStudent(this.state.searchStudent,this.state.searchType).then((function(t){t.length>0&&(e.setState({data:t}),e.setState({filteredData:t}),e.setState({showListStudents:!0}),e.filterData())}))}},{key:"render",value:function(){var e=r.a.createElement("div",null," "),t=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:""!=e.ruta?e.ruta:"/chicaliteratura.png",alt:"",style:{width:"2rem",borderRadius:"80%"}})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},e.apellidos),r.a.createElement("li",{className:"flex-item-list"},e.correo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/teacher/students/viewProfile/".concat(e.id)},r.a.createElement(k.a,{size:"sm",variant:"primary",text:"Ver Perfil"}," Ver perfil ")))),r.a.createElement("hr",null))})));0===this.state.filteredData.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement("br",null),r.a.createElement("h4",null,"No hay resultados para la b\xfasqueda realizada.")),t=r.a.createElement(r.a.Fragment,null));var a=this.state.showListStudents;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Lista de estudiantes")),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Desde este espacio puede ver la lista de sus estudiantes participantes.")),a?r.a.createElement("div",null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar estudiante: ")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"searchStudent",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""})),r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label",htmlFor:"searchType"},"Escoja c\xf3mo buscar:")),r.a.createElement("li",{className:"items-row"},r.a.createElement("select",{name:"searchType",id:"searchType",onChange:this.handleChangeSearchType},r.a.createElement("option",{value:"nombre"},"Nombre"),r.a.createElement("option",{value:"email"},"Email"))))),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,e,t)))):r.a.createElement("div",{className:"table-margin"},r.a.createElement("p",null,"No hay estudiantes para mostrar")))))}}]),a}(n.Component),Be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).filterData=function(){var e=[];n.state.filteredData=[];for(var t=0;t<n.state.data.length;t++)"email"==n.state.searchType?new RegExp(n.state.searchName,"i").test(n.state.data[t].correo)&&e.push(n.state.data[t]):(new RegExp(n.state.searchName,"i").test(n.state.data[t].nombre)||new RegExp(n.state.searchName,"i").test(n.state.data[t].apellidos))&&e.push(n.state.data[t]);var a=[];if("none"!=n.state.searchRole)for(var r=0;r<e.length;r++)e[r].rol===n.state.searchRole&&a.push(e[r]);else a=e;n.setState({filteredData:a})},n.acceptGroupRequest=function(e,t){me.acceptGroupRequest(e,t).then((function(e){window.location.href="/teacher/applicants"})).catch((function(e){console.log(e.message)}))},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchType=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchRole=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeViewStudentProfile=function(e){window.location.href="/teacher/students/viewProfile/"+e},n.state={data:[],filteredData:[],searchName:"",currentUserId:"",currentUserRole:"",searchType:"nombre",searchRole:"none",showListApplicants:!1,dataGroups:[],showApplicantsGroups:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=E.getCurrentUser();this.setState({currentUserRole:t.rol}),"T"==t.rol&&this.setState({searchRole:"S"}),me.searchApplicant(this.state.searchName,this.state.searchType).then((function(a){a.length>0&&(e.setState({data:a}),e.setState({filteredData:a}),e.setState({currentUserRole:t.rol}),e.setState({showListApplicants:!0}),e.filterData())})),me.showGroupRequest().then((function(t){t.length>0&&(e.setState({dataGroups:t,showApplicantsGroups:!0}),e.filterData())}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null," "),a=r.a.createElement(r.a.Fragment,null," "),n=r.a.createElement(r.a.Fragment,null," ");"T"===this.state.currentUserRole&&(a=r.a.createElement("div",null,r.a.createElement("label",{className:"form-label"},"Listado de estudiantes que quieren unirse a Creativa: ")),n=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:""!=e.ruta?e.ruta:"../chicaliteratura.png",alt:"",style:{width:"40%",borderRadius:"80%"}})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},e.apellidos),r.a.createElement("li",{className:"flex-item-list"},e.correo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/teacher/students/viewProfile/".concat(e.id)},r.a.createElement(k.a,{size:"sm",text:"Ver Perfil"}," Ver perfil ")))),r.a.createElement("hr",null))}))));var l=r.a.createElement(r.a.Fragment,null," "),o=r.a.createElement(r.a.Fragment,null," ");"T"===this.state.currentUserRole&&(l=r.a.createElement("div",null,r.a.createElement("label",{className:"form-label"},"Listado de estudiantes que quieren unirse a un grupo: ")),o=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.dataGroups.map((function(t){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:""!=t.ruta?t.ruta:"../chicaliteratura.png",alt:"",style:{width:"40%",borderRadius:"80%"}})),r.a.createElement("li",{className:"flex-item-list"},t.nombre),r.a.createElement("li",{className:"flex-item-list"},t.apellidos),r.a.createElement("li",{className:"flex-item-list"},t.nombregrupo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{variant:"success",onClick:function(){return e.acceptGroupRequest(t.idGrupo,t.idEstudiante)}},"Aceptar")))),r.a.createElement("hr",null))})))),"A"===this.state.currentUserRole&&(a=r.a.createElement("div",null,r.a.createElement("label",{className:"form-label"},"Listado de estudiantes que quieren unirse a Creativa: ")),n=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:""!=e.ruta?e.ruta:"/chicaliteratura_sizebig.png",alt:"",style:{width:"40%",borderRadius:"80%",marginLeft:"2rem"}})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},e.apellidos),r.a.createElement("li",{className:"flex-item-list"},e.correo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/admin/users/viewProfile/".concat(e.id)},r.a.createElement(k.a,{size:"sm",text:"Ver Perfil"}," Ver perfil ")))),r.a.createElement("hr",null))})))),0===this.state.filteredData.length&&(t=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay resultados para la b\xfasqueda realizada")),n=r.a.createElement(r.a.Fragment,null));var c=r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar estudiante")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"searchName",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""})),r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Escoja c\xf3mo buscar")),r.a.createElement("li",{className:"items-row"},r.a.createElement("select",{name:"searchType",id:"searchType",onChange:this.handleChangeSearchType},r.a.createElement("option",{value:"nombre"},"Nombre"),r.a.createElement("option",{value:"email"},"Email"))));"A"==this.state.currentUserRole&&(c=r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Buscar estudiante",r.a.createElement("img",{src:"../../search.png",alt:""})),r.a.createElement("input",{type:"text",name:"searchName",onChange:this.handleChangeSearch}))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Escoja c\xf3mo buscar"),r.a.createElement("select",{name:"searchType",id:"searchType",onChange:this.handleChangeSearchType},r.a.createElement("option",{value:"nombre"},"Nombre"),r.a.createElement("option",{value:"email"},"Email")))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Buscar por rol"),r.a.createElement("select",{name:"searchRole",id:"searchRole",onChange:this.handleChangeSearchRole},r.a.createElement("option",{value:"none"},"Todos"),r.a.createElement("option",{value:"S"},"Estudiantes"),r.a.createElement("option",{value:"T"},"Profesores"),r.a.createElement("option",{value:"A"},"Administradores"))))));var i=this.state,s=i.showListApplicants,m=i.showApplicantsGroups;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Lista de solicitantes")),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Desde este espacio puede ver las solicitudes."),r.a.createElement("br",null)),a,s?r.a.createElement("div",{className:"row-edit"},c,r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,t,n))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay solicitantes para mostrar")),r.a.createElement("br",null),l,m?r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,o))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay solicitantes para mostrar")),r.a.createElement("br",null))))}}]),a}(n.Component),Ae=[{path:"/groups",name:"Grupos",icon:"/group.png",id:"groups"},{path:"/students",name:"Estudiantes",icon:"/students.png",id:"Estudiantes"},{path:"/applicants",name:"Solicitantes",icon:"/add-user.png",id:"Solicitantes"},{path:"/createGroup",name:"Crear Grupo",icon:"/add-member.png",id:"createGroup"},{path:"/collections",name:"Colecciones",icon:"/collection.png",id:"coleccionesProfesor"}],Ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).filterGroupData=function(){for(var e=[],t=0;t<n.state.teacherGroupData.length;t++){for(var a=!0,r=0;r<n.state.studentGroupData.length;r++)n.state.teacherGroupData[t].id==n.state.studentGroupData[r].id&&(a=!1);a&&e.push(n.state.teacherGroupData[t])}n.setState({finalGroupData:e}),n.filterGroupKickData()},n.filterGroupKickData=function(){for(var e=[],t=0;t<n.state.teacherGroupData.length;t++){for(var a=!0,r=0;r<n.state.studentGroupData.length;r++)n.state.teacherGroupData[t].id==n.state.studentGroupData[r].id&&(a=!1);!1===a&&e.push(n.state.teacherGroupData[t])}n.setState({finalGroupKickData:e})},n.handleChangeGroupSelect=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeGroupKickSelect=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeCurrentUserId=function(e){n.setState({currentUserId:e.id}),n.handleChangeCurrentUserRole(e)},n.handleChangeCurrentUserRole=function(e){n.setState({currentUserRole:e.rol}),n.peticionGet(),"A"==e.rol?n.peticionGetAllGroups():n.peticionGetGruposTeacher(e.id)},n.inviteToGroup=function(e){me.inviteToGroup(e,n.props.idStudent).then((function(e){"A"==n.state.currentUserRole?n.peticionGetAllGroups():n.peticionGetGruposTeacher(n.state.currentUserId),n.setState({groupSelect:"-1"}),n.peticionGet()})).catch((function(e){console.log(e.message)}))},n.kickFromGroup=function(e){me.kickFromGroup(e,n.props.idStudent).then((function(e){"A"==n.state.currentUserRole?n.peticionGetAllGroups():n.peticionGetGruposTeacher(n.state.currentUserId),n.setState({groupKickSelect:"-1"}),n.peticionGet()})).catch((function(e){console.log(e.message)}))},n.deactivateUser=function(e){ie.deactivateUser(e).then((function(e){n.peticionGet()})).catch((function(e){console.log(e.message)}))},n.deleteUser=function(e){ie.deleteUser(e).then((function(e){window.location.href="/homeadmin"})).catch((function(e){console.log(e.message)}))},n.state={data:[],teacherGroupData:[],studentGroupData:[],finalGroupData:[],finalGroupKickData:[],currentUserId:"",currentUserRole:"",groupSelect:"-1",groupKickSelect:"-1"},n}return Object(i.a)(a,[{key:"peticionGet",value:function(){var e=this;me.getProfile(this.props.idStudent).then((function(t){e.setState({data:t}),e.props.handler()})).catch((function(e){console.log(e.message)}))}},{key:"peticionGetGruposTeacher",value:function(e){var t=this;me.getGroups(e).then((function(e){t.setState({teacherGroupData:e}),t.peticionGetGruposStudent()})).catch((function(e){console.log(e.message)}))}},{key:"peticionGetAllGroups",value:function(){var e=this;ie.getAllGroups().then((function(t){e.setState({teacherGroupData:t}),e.peticionGetGruposStudent()})).catch((function(e){console.log(e.message)}))}},{key:"peticionGetGruposStudent",value:function(){var e=this;me.getGroupsStudent(this.props.idStudent).then((function(t){e.setState({studentGroupData:t}),e.filterGroupData()})).catch((function(e){console.log(e.message)}))}},{key:"componentDidMount",value:function(){var e=E.getCurrentUser();this.handleChangeCurrentUserId(e)}},{key:"acceptApplicant",value:function(e){var t=this;me.acceptApplicantStudent(e).then((function(e){t.peticionGet()})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t="/chicaliteratura.png",a=r.a.createElement("img",{src:t,alt:"",className:"figure-profile"});void 0!=this.state.data.ruta&&""!=this.state.data.ruta&&(t=this.state.data.ruta,a=r.a.createElement("img",{src:t,alt:"",className:"figure-profile"}));var n=r.a.createElement(r.a.Fragment,null),l=r.a.createElement("div",{className:"row-edit"},r.a.createElement("br",null),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"items-row"},a),r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h3",null,this.state.data.nombre),"  ",r.a.createElement("h3",null,this.state.data.apellidos))),r.a.createElement("div",{className:"email-profile"},r.a.createElement("h5",null,this.state.data.correo))))),o=r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("label",{className:"form-label",htmlFor:"groupSelect"},"Invitar a un grupo")),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("select",{name:"groupSelect",id:"groupSelect",onChange:this.handleChangeGroupSelect},r.a.createElement("option",{value:"-1"},"Elija un grupo"),this.state.finalGroupData.map((function(e){return r.a.createElement("option",{value:e.id},e.nombre)})))),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement(k.a,{size:"sm",text:"Invitar a grupo",onClick:function(){return e.inviteToGroup(e.state.groupSelect)}},"Invitar"))));"-1"===this.state.groupSelect&&(o=r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("label",{className:"form-label",htmlFor:"groupSelect"},"Invitar a un grupo")),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("select",{name:"groupSelect",id:"groupSelect",onChange:this.handleChangeGroupSelect},r.a.createElement("option",{selected:!0,value:"-1"},"Elija un grupo"),this.state.finalGroupData.map((function(e){return r.a.createElement("option",{value:e.id},e.nombre)})))),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement(k.a,{size:"sm",disabled:!0,text:"Invitar a grupo",onClick:function(){return e.inviteToGroup(e.state.groupSelect)}},"Invitar")))));var c=r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("label",{className:"form-label",htmlFor:"groupKickSelect"},"Expulsar de un grupo")),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("select",{name:"groupKickSelect",id:"groupKickSelect",onChange:this.handleChangeGroupKickSelect},r.a.createElement("option",{value:"-1"},"Elija un grupo"),this.state.finalGroupKickData.map((function(e){return r.a.createElement("option",{value:e.id},e.nombre)})))),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement(k.a,{size:"sm",text:"Expulsar del grupo",onClick:function(){return e.kickFromGroup(e.state.groupKickSelect)}},"Expulsar"))));"-1"===this.state.groupKickSelect&&(c=r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("label",{className:"form-label",htmlFor:"groupKickSelect"},"Expulsar del grupo")),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("select",{name:"groupKickSelect",id:"groupKickSelect",onChange:this.handleChangeGroupKickSelect},r.a.createElement("option",{selected:!0,value:"-1"},"Elija un grupo"),this.state.finalGroupKickData.map((function(e){return r.a.createElement("option",{value:e.id},e.nombre)})))),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement(k.a,{size:"sm",disabled:!0,text:"Expulsar del grupo",onClick:function(){return e.kickFromGroup(e.state.groupKickSelect)}},"Expulsar")))));var i=r.a.createElement(r.a.Fragment,null),s=r.a.createElement(r.a.Fragment,null);return"A"==this.state.currentUserRole&&(i=r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{size:"sm",text:"Desactivar usuario",onClick:function(){return e.deactivateUser(e.state.data.id)}},"Desactivar usuario")),s=r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{variant:"danger",size:"sm",text:"Eliminar usuario",onClick:function(){window.confirm("El usuario "+e.state.data.nombre+" "+e.state.data.apellidos+" y todos sus grupos, escritos, equipos y desaf\xedos se eliminar\xe1n de forma permanente de la base de datos. ESTA ACCI\xd3N ES IRREVERSIBLE. \xbfEliminar usuario?")&&e.deleteUser(e.state.data.id)}},"Denegar solicitud"))),"S"==this.state.currentUserRole&&(o=r.a.createElement(r.a.Fragment,null),c=r.a.createElement(r.a.Fragment,null)),"A"==this.state.data.rol&&(o=r.a.createElement(r.a.Fragment,null),c=r.a.createElement(r.a.Fragment,null),i=r.a.createElement(r.a.Fragment,null),s=r.a.createElement(r.a.Fragment,null)),"T"==this.state.data.rol&&(o=r.a.createElement(r.a.Fragment,null),c=r.a.createElement(r.a.Fragment,null)),0===this.state.data.activo&&(n=r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label",htmlFor:""},"Estudiantes a\xfan en espera de ser aceptados."))),l=r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},this.state.data.nombre," ",this.state.data.apellidos),r.a.createElement("li",{className:"flex-item-list"},this.state.data.correo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("div",{className:"form-button-column"},r.a.createElement(k.a,{size:"sm",text:"Aceptar solicitud",onClick:function(){return e.acceptApplicant(e.state.data.id)}},"Aceptar solicitud"))))),o=r.a.createElement(r.a.Fragment,null),c=r.a.createElement(r.a.Fragment,null),i=r.a.createElement(r.a.Fragment,null)),r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,n,l,o,c,r.a.createElement("div",{className:"row-edit"},r.a.createElement("hr",null),i,s)))}}]),a}(n.Component),qe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).peticionGet=function(){me.getScriptsByStudent(n.props.idStudent).then((function(e){console.log(e),n.setState({data:e}),console.log(e),n.setState({filteredData:e})})).catch((function(e){console.log(e.message)}))},n.filterData=function(){var e=[];n.state.filteredData=[];for(var t=0;t<n.state.data.length;t++)"titulo"==n.state.searchType?new RegExp(n.state.searchKey,"i").test(n.state.data[t].titulo)&&e.push(n.state.data[t]):new RegExp(n.state.searchKey,"i").test(n.state.data[t].nombre)&&e.push(n.state.data[t]);n.setState({filteredData:e})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchType=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],filteredData:[],searchKey:"",searchType:"nombre"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.peticionGet()}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null),t=r.a.createElement("div",{className:"scriptList"},this.state.filteredData.map((function(e){return r.a.createElement("div",{className:"scriptCardContainer"},r.a.createElement(d.b,{to:"/teacher/editWriting/".concat(e.idGrupo,"/").concat(e.idDesafio,"/").concat(e.id,"/").concat(e.idEscritor)},r.a.createElement(L.a,{key:e.idGrupo,style:{width:"18rem"},className:"mb-2",bg:"Light"},r.a.createElement(L.a.Header,null,r.a.createElement("h5",null,e.nombre)),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,r.a.createElement("h6",null,"Desaf\xedo")),r.a.createElement(L.a.Text,null,r.a.createElement("h5",null,e.titulo))))))})));return 0===this.state.filteredData.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay resultados para la b\xfasqueda realizada.")),t=r.a.createElement(r.a.Fragment,null)),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar estudiante")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"searchKey",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"/search.png",alt:""})),r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label",htmlFor:"searchType"},"Escoja c\xf3mo buscar")),r.a.createElement("li",{className:"items-row"},r.a.createElement("select",{name:"searchType",id:"searchType",onChange:this.handleChangeSearchType},r.a.createElement("option",{value:"nombre"},"Nombre"),r.a.createElement("option",{value:"titulo"},"T\xedtulo")))),r.a.createElement("div",{className:"row-edit"},e,t))}}]),a}(n.Component),Re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:[],filteredData:[],searchKey:"",searchType:"nombre"},e.peticionGet=function(){ie.getGroupsOfTeacher(e.props.idStudent).then((function(t){e.setState({data:t}),e.filterData()})).catch((function(e){console.log(e.message)}))},e.handleChangeSearch=function(){var t=Object(ce.a)(le.a.mark((function t(a){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(oe.a)({},a.target.name,a.target.value));case 2:e.filterData();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterData=function(){var t=[];e.state.filteredData=[];for(var a=0;a<e.state.data.length;a++)new RegExp(e.state.searchKey,"i").test(e.state.data[a].nombre)&&t.push(e.state.data[a]);e.setState({filteredData:t})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.peticionGet()}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null," "),t=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:"/team_black.png",alt:""})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/admin/viewGroup/".concat(e.id)},r.a.createElement(k.a,{size:"sm",text:"Ver Grupo"}," Ver grupo ")))),r.a.createElement("hr",null))})));return 0===this.state.filteredData.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},r.a.createElement("h6",null,"No hay resultados para la b\xfasqueda realizada."))),t=r.a.createElement("div",null)),r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Buscar grupo"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"searchKey",onChange:this.handleChangeSearch}),r.a.createElement("img",{src:"/search.png",alt:""})),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},e,t),r.a.createElement("img",{src:"./group.png",alt:""})))}}]),a}(n.Component),ze=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).cambiaVentana=function(e){n.setState({ventana:e})},n.handler=n.handler.bind(Object(s.a)(n)),n.state={ventana:1,data:[]},n}return Object(i.a)(a,[{key:"handler",value:function(){this.peticionGet()}},{key:"peticionGet",value:function(){var e=this;me.getProfile(this.props.match.params.idStudent).then((function(t){e.setState({data:t})})).catch((function(e){console.log(e.message)}))}},{key:"componentDidMount",value:function(){this.peticionGet()}},{key:"render",value:function(){var e=this.props.match.params.idStudent,t=r.a.createElement(ge.b,null,r.a.createElement(ge.a,null,"DATOS"),r.a.createElement(ge.a,null,"ESCRITOS"));"T"==this.state.data.rol&&(t=r.a.createElement(ge.b,null,r.a.createElement(ge.a,null,"DATOS"),r.a.createElement(ge.a,null,"GRUPOS"))),"A"==this.state.data.rol&&(t=r.a.createElement(ge.b,null,r.a.createElement(ge.a,null,"DATOS"))),0===this.state.data.activo&&(t=r.a.createElement(ge.b,null,r.a.createElement(ge.a,null,"DATOS")));var a=r.a.createElement(qe,{key:e,idStudent:e});return"T"==this.state.data.rol&&(a=r.a.createElement(Re,{key:e,idStudent:e})),r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Perfil del estudiante")),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Puede usar este espacio para ver los escritos del estudiantes o aplicar otras opciones.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(ge.d,null,t,r.a.createElement(ge.c,null,r.a.createElement(Ue,{key:e,idStudent:e,handler:this.handler})),r.a.createElement(ge.c,null,a))))))}}]),a}(n.Component),Le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).editWriting=function(){me.editWriting(n.props.match.params.idWriting,n.props.match.params.idGroup,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.form.score,n.state.form.commentary,n.state.challenge.colaborativo,n.state.form.finishWriting).then((function(e){window.location.href="/teacher/groups"})).catch((function(e){console.log(e.message)}))},n.editorChange=function(){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{escrito:we()(Object(be.convertToRaw)(n.state.editorState.getCurrentContent()))})})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.onContentStateChange=function(e){n.setState({contentState:e})},n.showTitle=function(e){return e.ruta.split("/")[8]},n.askDeleteFile=function(e){var t=e.ruta.split("/");n.setState({nameDeleteFileMedia:t[8],deleteFileMedia:e}),n.showModalDeleteFile()},n.showModalDeleteFile=function(){n.setState({modalDeleteFile:!0})},n.closeModalDeleteFile=function(){n.setState({modalDeleteFile:!1})},n.onChangeWritingName=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{title:e.target.value})})},n.onChangeScore=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{score:e.target.value})})},n.onChangeCommentary=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{commentary:e.target.value})})},n.onChangeFinishWriting=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{finishWriting:e.target.value})})},n.disabledComponent=function(){return E.getCurrentUser().id!==n.state.challenge.idProfesor},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.state={imgCollection:[],dataTeamStudent:[],contentState:null,editorState:be.EditorState.createEmpty(),challenge:"",dataMediaChallenge:[],dataMediaWriting:[],modalDeleteFile:!1,deleteFileMedia:"",nameDeleteFileMedia:"",writing:"",form:{idWriter:"",title:"",escrito:"",score:"",commentary:"",finishWriting:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({challenge:t[0]}),2===t[0].colaborativo?me.getTeamStudentGroup(e.props.match.params.idStudent,e.props.match.params.idGroup).then((function(t){e.setState({dataTeamStudent:t,form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:t[0].idEquipo})}),me.getMultimediaWriting(e.props.match.params.idChallenge,t[0].idEquipo).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})):(e.setState({dataTeamStudent:t,form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:e.props.match.params.idStudent})}),me.getMultimediaWriting(e.props.match.params.idChallenge,e.props.match.params.idStudent).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)})))})).catch((function(e){console.log(e.message)})),me.getMultimediaChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({dataMediaChallenge:t.data})})).catch((function(e){console.log(e.message)})),me.getWriting(this.props.match.params.idWriting).then((function(t){var a=Object(Me.a)(t.data[0].texto),n=be.EditorState.createWithContent(a);e.setState({writing:t.data[0],editorState:n,form:Object(V.a)(Object(V.a)({},e.state.form),{},{title:t.data[0].nombre,escrito:t.data[0].texto,score:t.data[0].puntuacion,commentary:t.data[0].comentario,finishWriting:t.data[0].finalizado})})})).catch((function(e){console.log(e.message)}))}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state.dataMediaChallenge,a=this.state.dataMediaWriting;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Editar Desaf\xedo"))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Detalles del desaf\xedo")),r.a.createElement("hr",null),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Nombre"),r.a.createElement("h6",null," ",this.state.challenge.titulo," ")),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Categoria"),r.a.createElement("h6",null,this.state.challenge.nombre))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Leer la descripci\xf3n del Desaf\xedo"),r.a.createElement("div",{className:"challenge-inputs",dangerouslySetInnerHTML:{__html:this.state.challenge.descripcion}})),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver"))))})))))),r.a.createElement("br",null))),r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Escrito del estudiante")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-inputs"},r.a.createElement("label",{className:"form-label"},"T\xedtulo"),r.a.createElement("input",{className:"form-input",type:"text",name:"title",placeholder:"Escribe el t\xedtulo",value:this.state.form.title,onChange:this.onChangeWritingName,disabled:this.disabledComponent()}))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Escrito"),r.a.createElement(ve.Editor,{editorState:this.state.editorState,wrapperClassName:"wrapperClassName1",editorClassName:"editorClassName1",toolbarClassName:"toolbarClassName1",onEditorStateChange:this.onEditorStateChange,onContentStateChange:this.onContentStateChange,onChange:this.editorChange,readOnly:this.disabledComponent()})),r.a.createElement("div",{class:"row-edit"},r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{size:"sm",onClick:function(){return window.open(t.ruta)}},"Ver"))))})))))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Calificaci\xf3n"),r.a.createElement("td",null,r.a.createElement("textarea",{rows:"2",cols:"10",className:"text-area",value:this.state.form.score,onChange:this.onChangeScore,style:{resize:"none",textAlign:"center"},disabled:this.disabledComponent()}))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Escrito Finalizado"),r.a.createElement("select",{value:this.state.form.finishWriting,onChange:this.onChangeFinishWriting,disabled:this.disabledComponent()},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0}," Seleccionar "),r.a.createElement("option",{value:"1"}," Si "),r.a.createElement("option",{value:"0"}," No ")))))),r.a.createElement("div",{class:"row-edit"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Comentarios"),r.a.createElement("td",null,r.a.createElement("textarea",{rows:"5",cols:"100",value:this.state.form.commentary,onChange:this.onChangeCommentary,disabled:this.disabledComponent()})))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-select"},r.a.createElement(k.a,{text:"enviar",onClick:function(){return e.editWriting()}}," Guardar  ")),r.a.createElement("div",{className:"form-select"},r.a.createElement(k.a,{onClick:function(){return window.location.href="/teacher/groups"}},"Cancelar"))))),r.a.createElement(T.a,{show:this.state.modalDeleteFile,onHide:this.state.modalDeleteFile},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfEst\xe1s seguro de eliminar ",this.state.nameDeleteFileMedia,"?")," ")),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteFile(e.state.deleteFileMedia)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.closeModalDeleteFile()}},"Cancelar"))))}}]),a}(n.Component),Ie=a(46),Pe=a(99),Ve=a(83),He=a(81),Ke=a(82),Ye=a(92),Je=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).deleteChallenge=function(e){n.closeModalDeleteChallenge();var t=0,a=n.state.data;a.map((function(n){e.id===n.id&&a.splice(t,1),t++})),n.setState({data:a}),me.deleteChallenge(e.id).then((function(e){})).catch((function(e){console.log(e.message)}))},n.showCollaborative=function(e){return 1===e.colaborativo?"Individual":"Colaborativo"},n.askDeleteChallenge=function(e){n.setState({modalDeleteChallenge:!0,deleteChallenge:e})},n.closeModalDeleteChallenge=function(){n.setState({modalDeleteChallenge:!1})},n.state={deleteChallenge:"",modalDeleteChallenge:!1,categories:[],data:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getChallenges(this.props.groupSelect).then((function(t){e.setState({data:t})})).catch((function(e){console.log(e.message)})),me.getCategories().then((function(t){e.setState({categories:t})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.data,l=r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"}," Listado de desaf\xedos"),r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Titulo"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,n.filter((function(e){return 1===e.activo})).map((function(t,n){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{className:"challenge-td"},t.titulo),a.filter((function(e){return e.id===t.idCategoria})).map((function(e,t){return r.a.createElement("td",{className:"challenge-td"},e.nombre)})),r.a.createElement("td",{className:"challenge-td"},e.showCollaborative(t)),r.a.createElement("td",{className:"challenge-td"},ee()(t.fechaFin).format("DD/MM/YYYY")),r.a.createElement("td",{className:"challenge-td"},ee()(t.fechaFin).format("LT")),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/teacher/editChallenge/".concat(e.props.groupSelect,"/").concat(t.id)},r.a.createElement("img",{src:"../edit.png",alt:"editar"})," Editar")),r.a.createElement("td",null,r.a.createElement(k.a,{size:"sm",variant:"danger",onClick:function(){return e.askDeleteChallenge(t)}},"Borrar")))})))));return 0===n.length&&(l=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay desaf\xedos en estos momentos."))),r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"button-direction-left"},r.a.createElement(d.b,{to:"/teacher/createChallenge/".concat(this.props.groupSelect)},r.a.createElement(k.a,{variant:"success"},r.a.createElement("img",{src:"/add-white.png",alt:""}),"Crear desafio"))),l,r.a.createElement(T.a,{show:this.state.modalDeleteChallenge},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Aviso"),r.a.createElement("img",{src:"../triangle.png"})),r.a.createElement(T.a.Body,null,"\xbfSeguro que desea eliminar ",this.state.deleteChallenge.titulo,"?"),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteChallenge(e.state.deleteChallenge)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.closeModalDeleteChallenge()}},"Cancelar")))))}}]),a}(n.Component),_e=a(187),Qe=(n.Component,function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showCollaborative=function(e){return 1===e.colaborativo?"individual":2===e.colaborativo?"colaborativo":"N/A"},n.state={changeState:!1,dataWritings:[],idChallenge:"",showTableStudent:!1,showTableTeam:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getChallenge(this.props.idChallenge).then((function(t){1===t[0].colaborativo?me.getWritingsStudent(e.props.groupSelect,e.props.idChallenge).then((function(t){e.setState({showTableStudent:!0,dataWritings:t.data,idChallenge:e.props.idChallenge})})).catch((function(e){console.log(e.message)})):me.getWritingsTeam(e.props.groupSelect,e.props.idChallenge).then((function(t){e.setState({showTableStudent:!1,dataWritings:t})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;this.props.idChallenge!==e.idChallenge&&me.getChallenge(this.props.idChallenge).then((function(e){1===e[0].colaborativo?me.getWritingsStudent(n.props.groupSelect,n.props.idChallenge).then((function(e){n.setState({showTableStudent:!0,dataWritings:e.data})})).catch((function(e){console.log(e.message)})):2===e[0].colaborativo&&me.getWritingsTeam(n.props.groupSelect,n.props.idChallenge).then((function(e){n.setState({showTableStudent:!1,dataWritings:e})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state,a=t.dataWritings,n=t.showTableStudent,l=r.a.createElement("div",{className:"table-margin"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Desaf\xedo"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Escrito"),r.a.createElement("th",null,"Estudiante"),r.a.createElement("th",null,"Puntuaci\xf3n"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.nombreDesafio),r.a.createElement("td",null,e.showCollaborative(t)),r.a.createElement("td",null,t.nombreEscrito),r.a.createElement("td",null,t.nombreEstudiante," ",t.apellidosEstudiante),r.a.createElement("td",null,t.puntuacion),r.a.createElement("td",null,ee()(t.fecha).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(t.fecha).format("LT")),r.a.createElement("td",{className:"challenge-td"},r.a.createElement(d.b,{to:"/teacher/editWriting/".concat(e.props.groupSelect,"/").concat(t.idDesafio,"/").concat(t.idEscrito,"/").concat(t.idEstudiante)},r.a.createElement("img",{src:"../edit.png"}),"Editar")))})))));return 0===a.length&&(l=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay escritos para este desaf\xedo en estos momentos."))),r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",null,l):r.a.createElement("div",{className:"table-margin"},r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Lista de Desafios")),r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Desaf\xedo"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Escrito"),r.a.createElement("th",null,"Equipo"),r.a.createElement("th",null,"Puntuaci\xf3n"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.nombreDesafio),r.a.createElement("td",null,e.showCollaborative(t)),r.a.createElement("td",null,t.nombreEscrito),r.a.createElement("td",null,t.nombreEquipo),r.a.createElement("td",null,t.puntuacion),r.a.createElement("td",null,ee()(t.fecha).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(t.fecha).format("LT")),r.a.createElement("td",{className:"challenge-td"},r.a.createElement(d.b,{to:"/teacher/editWriting/".concat(e.props.groupSelect,"/").concat(t.idDesafio,"/").concat(t.idEscrito,"/").concat(t.idEscritor)},r.a.createElement(k.a,{variant:"outline-primary"},"Editar Escrito"))))}))))))}}]),a}(n.Component));var Xe=function(e){var t=Object(n.useState)(0),a=Object(Ie.a)(t,2),l=(a[0],a[1],Object(n.useState)([])),o=Object(Ie.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)(!1),m=Object(Ie.a)(s,2),u=m[0],d=m[1],h=Object(n.useState)(""),g=Object(Ie.a)(h,2),f=g[0],p=g[1];return Object(n.useEffect)((function(){me.getChallenges(e.groupSelect).then((function(e){e.length>0&&i([].concat(Object(_e.a)(c),[e]))}))}),[]),r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Selecciona Desafio"),r.a.createElement("select",{onChange:function(e){p(e.target.value),d(!0)}},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0}," Seleccionar"),c.length>0?c[0].map((function(e){return r.a.createElement("option",{key:e.id,value:e.id}," ",e.titulo," ")})):null))),u?r.a.createElement("div",{className:"row-edit"},r.a.createElement(Qe,{key:e.groupSelect,groupSelect:e.groupSelect,idChallenge:f})):r.a.createElement(r.a.Fragment,null)))},Ze=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).filterData=function(){for(var e=[],t=0;t<n.state.data.length;t++)new RegExp(n.state.searchKey,"i").test(n.state.data[t].nombre)&&e.push(n.state.data[t]);n.setState({filteredData:e})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],filteredData:[],searchKey:"",showListTeams:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getTeamsOfGroup(this.props.groupSelect).then((function(t){t.length>0&&(e.setState({data:t}),e.setState({filteredData:t}),e.filterData(),e.setState({showListTeams:!0}))}))}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null," "),t=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("br",null),r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:"../../team_black.png",alt:""})),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("h6",null,e.nombre)),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/teacher/viewTeam/".concat(e.id)},r.a.createElement(k.a,{size:"sm",variant:"primary",text:"Ver Equipo"},"Ver equipo")))),r.a.createElement("hr",null))})));0===this.state.filteredData.length&&(e=r.a.createElement(y.a,{variant:"danger"},"No hay equipos con esos par\xe1metros."),t=r.a.createElement(r.a.Fragment,null));var a=this.state.showListTeams;return r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,a?r.a.createElement("div",null,r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar estudiante")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"searchKey",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""}))),e,t):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No hay equipos con esos par\xe1metros."))))}}]),a}(n.Component),$e=a(710),et=a(90),tt=a.n(et),at=r.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return r.a.createElement("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),n(e)}},a,r.a.createElement($e.a,null,r.a.createElement(tt.a,null)))})),nt=r.a.forwardRef((function(e,t){var a=e.children,l=e.style,o=e.className,c=e["aria-labelledby"],i=Object(n.useState)(""),s=Object(Ie.a)(i,2),m=s[0],u=s[1];return r.a.createElement("div",{ref:t,style:l,className:o,"aria-labelledby":c},r.a.createElement(Ye.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Buscar grupo...",onChange:function(e){return u(e.target.value)},value:m}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(a).filter((function(e){return!m||e.props.children.toLowerCase().startsWith(m)||e.props.children.toUpperCase().startsWith(m)}))))})),rt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).itemSelection=function(e){"1"===e.target.value?n.setState({showChallenges:!0,showWritings:!1,showTeams:!1,showStudents:!1}):"2"===e.target.value?n.setState({showChallenges:!1,showWritings:!0,showTeams:!1,showStudents:!1}):"3"===e.target.value?n.setState({showChallenges:!1,showWritings:!1,showTeams:!0,showStudents:!1}):"4"===e.target.value&&n.setState({showChallenges:!1,showWritings:!1,showTeams:!1,showStudents:!0})},n.handleChangeRename=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.rename=function(){""!=n.state.newName?ie.renameGroup(n.state.groupSelect,n.state.newName).then((function(e){E.getCurrentUser();n.setState({nameGroupSelect:n.state.newName}),n.onModal(!1)})).catch((function(e){console.log(e.message)})):n.onAlert(!0)},n.state={dataGroup:[],currentUser:{id:""},groupSelect:"",nameGroupSelect:"",itemSelect:"",showChallenges:!1,showWritings:!1,showTeams:!1,showStudents:!1,newName:"",onRenameGroupModal:"",onAlert:!1,showListGroups:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=E.getCurrentUser();this.setState({currentUser:t}),me.getGroups(t.id).then((function(t){e.setState({dataGroup:t}),e.state.dataGroup.length>0&&e.setState({groupSelect:e.state.dataGroup[0].id,nameGroupSelect:e.state.dataGroup[0].nombre,showListGroups:!0})}))}},{key:"handleSelect",value:function(e){this.setState({groupSelect:e.id,nameGroupSelect:e.nombre})}},{key:"onModal",value:function(e){this.setState({onRenameGroupModal:e})}},{key:"onAlert",value:function(e){this.setState({onAlert:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataGroup,n=t.groupSelect,l=t.showChallenges,o=t.showWritings,c=t.showTeams,i=t.showStudents,s=r.a.createElement("div",{className:"row-edit"},r.a.createElement(ge.d,null,r.a.createElement(ge.b,{className:"react-tabs__tab-list"},r.a.createElement(ge.a,null,"DESAFIOS"),r.a.createElement(ge.a,null,"ESCRITOS"),r.a.createElement(ge.a,null,"EQUIPOS"),r.a.createElement(ge.a,null,"ESTUDIANTES")),r.a.createElement(ge.c,null,r.a.createElement(Je,{key:n,groupSelect:n})),r.a.createElement(ge.c,null,r.a.createElement(Xe,{key:n,groupSelect:n})),r.a.createElement(ge.c,null,r.a.createElement(Ze,{key:n,groupSelect:n})),r.a.createElement(ge.c,null,r.a.createElement(he,{key:n,idGroup:n})))),m=this.state.showListGroups;return r.a.createElement("div",{className:"container"},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Gestionar grupos"))),m?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"border-group"},r.a.createElement("br",null),r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(Pe.a,{className:"drop-down"},r.a.createElement(Ke.a,{as:at,id:"dropdown-custom-components"},"Selecciona grupo"),r.a.createElement(Ve.a,{as:nt},a.map((function(t){return r.a.createElement(He.a,{eventKey:t.idGrupo,onClick:function(){return e.handleSelect(t)}},t.nombre)}))))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("h4",{style:{color:"#717172"}},this.state.nameGroupSelect)),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.onModal(!0)}},"Renombar grupo")))),l?r.a.createElement(Je,{key:n,groupSelect:n}):r.a.createElement(r.a.Fragment,null),o?r.a.createElement(Xe,{key:n,groupSelect:n}):r.a.createElement(r.a.Fragment,null),c?r.a.createElement(Ze,{key:n,groupSelect:n}):r.a.createElement(r.a.Fragment,null),i?r.a.createElement(he,{key:n,idGroup:n}):r.a.createElement(r.a.Fragment,null),s):r.a.createElement("div",{className:"table-margin"},r.a.createElement("p",null,"No hay grupos para mostrar")))),r.a.createElement(T.a,{show:this.state.onRenameGroupModal,onHide:this.state.onRenameGroupModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Renombrar grupo")),r.a.createElement(T.a.Body,null,r.a.createElement("label",null,"Cambiar nombre: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"form-control",name:"newName",onChange:this.handleChangeRename}),r.a.createElement(y.a,{show:this.state.onAlert},"Hola"),r.a.createElement("br",null)),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.rename()}},"Acepto"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModal(!1)}},"Cancelar"))))}}]),a}(n.Component),lt=r.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return r.a.createElement("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),n(e)}},a,r.a.createElement($e.a,null,r.a.createElement(tt.a,null)))})),ot=r.a.forwardRef((function(e,t){var a=e.children,l=e.style,o=e.className,c=e["aria-labelledby"],i=Object(n.useState)(""),s=Object(Ie.a)(i,2),m=s[0],u=s[1];return r.a.createElement("div",{ref:t,style:l,className:o,"aria-labelledby":c},r.a.createElement(Ye.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Buscar grupo...",onChange:function(e){return u(e.target.value)},value:m}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(a).filter((function(e){return!m||e.props.children.toLowerCase().startsWith(m)||e.props.children.toUpperCase().startsWith(m)}))))})),ct=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).filterData=function(){for(var e=[],t=0;t<n.state.dataCollection.length;t++)(new RegExp(n.state.filtroBusqueda,"i").test(n.state.dataCollection[t].nombreColeccion)||new RegExp(n.state.filtroBusqueda,"i").test(n.state.dataCollection[t].nombreGrupo))&&e.push(n.state.dataCollection[t]);n.setState({dataCollectionFiltered:e})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.crearColeccion=function(){""!=n.state.nombreColeccion?(me.createCollection(n.state.nombreColeccion,E.getCurrentUser().id,n.state.idGroupSelect).then((function(e){n.onModal(!1)})).catch((function(e){console.log(e.message)})),window.location.replace("/teacher/collections")):n.onAlert(!0)},n.deleteCollection=function(){n.onModalDeleteCollection(!1,-1),me.deleteCollection(n.state.idColeccionBorrado).then((function(e){window.location.href="/teacher/collections"})).catch((function(e){console.log(e.message)}))},n.handleCreateCollection=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={dataGroup:[],idGroupSelect:0,nameGroupSelect:"",nombreColeccion:"",onCreateCollectionModal:!1,onAlert:!1,dataCollection:[],filtroBusqueda:"",dataCollectionFiltered:[],showListCollections:!1,onModalDelete:!1,idColeccionBorrado:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getGroups(E.getCurrentUser().id).then((function(t){e.setState({dataGroup:t}),e.state.dataGroup.length>0&&e.setState({idGroupSelect:e.state.dataGroup[0].id,nameGroupSelect:e.state.dataGroup[0].nombre,showListGroups:!0})})),me.getCollections(E.getCurrentUser().id,this.state.filtroBusqueda).then((function(t){t.length>0&&(e.setState({dataCollection:t,dataCollectionFiltered:t,showListCollections:!0}),e.filterData())}))}},{key:"onModal",value:function(e){this.setState({onCreateCollectionModal:e})}},{key:"onModalDeleteCollection",value:function(e,t){this.setState({onModalDelete:e,idColeccionBorrado:t})}},{key:"handleSelect",value:function(e){this.setState({idGroupSelect:e.id,nameGroupSelect:e.nombre})}},{key:"onAlert",value:function(e){this.setState({onAlert:e})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null," "),a=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.dataCollectionFiltered.map((function(t){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},t.nombreColeccion),r.a.createElement("li",{className:"flex-item-list"},t.nombreGrupo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:t.idColeccion,to:"/teacher/collections/".concat(t.idColeccion)},r.a.createElement(k.a,{size:"sm",variant:"primary"}," Ver colecci\xf3n "))),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(k.a,{size:"sm",variant:"danger",onClick:function(){return e.onModalDeleteCollection(!0,t.idColeccion)}},"Eliminar"))),r.a.createElement("hr",null))})));0===this.state.dataCollectionFiltered.length&&(t=r.a.createElement("div",{className:"row-edit"},r.a.createElement("br",null),r.a.createElement("h4",null,"No hay resultados para la b\xfasqueda realizada.")),a=r.a.createElement(r.a.Fragment,null));var n=this.state,l=n.dataGroup,o=n.showListCollections;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Colecciones"))),r.a.createElement("div",{className:"border-group"},r.a.createElement("br",null),r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(Pe.a,{className:"drop-down"},r.a.createElement(Ke.a,{as:lt,id:"dropdown-custom-components"},"Selecciona grupo"),r.a.createElement(Ve.a,{as:ot},l.map((function(t){return r.a.createElement(He.a,{eventKey:t.idGrupo,onClick:function(){return e.handleSelect(t)}},t.nombre)}))))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("h4",{style:{color:"#717172"}},this.state.nameGroupSelect)),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.onModal(!0)}},"Crear colecci\xf3n")))),o?r.a.createElement("div",null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar colecci\xf3n por su nombre o por grupo: ")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"filtroBusqueda",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""})))),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,t,a)))):r.a.createElement("div",{className:"table-margin"},r.a.createElement("p",null,"No hay colecciones para mostrar")))),r.a.createElement(T.a,{show:this.state.onCreateCollectionModal,onHide:this.state.onCreateCollectionModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Crear colecci\xf3n")),r.a.createElement(T.a.Body,null,r.a.createElement("label",null,"Nombre: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"form-control",name:"nombreColeccion",onChange:this.handleCreateCollection}),r.a.createElement(y.a,{show:this.state.onAlert},"ERROR"),r.a.createElement("br",null)),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.crearColeccion()}},"Acepto"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModal(!1)}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.onModalDelete,onHide:this.state.onModalDelete},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"\xbfSeguro que deseas eliminar la colecci\xf3n?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.deleteCollection()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalDeleteCollection(!1,-1)}},"Cancelar"))))}}]),a}(n.Component),it=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).addChallengeToCollection=function(e){me.addChallengeToCollection(n.props.match.params.idCollection,e).then((function(e){window.location.replace("/teacher/collections/".concat(n.props.match.params.idCollection))})).catch((function(e){console.log(e.message)}))},n.deleteChallenge=function(){n.onModalDeleteChallenge(!1,-1),me.deleteChallengeFromCollection(n.props.match.params.idCollection,n.state.idBorrado).then((function(e){window.location.href="/teacher/collections/".concat(n.props.match.params.idCollection)})).catch((function(e){console.log(e.message)}))},n.handleChangeChallengeSelect=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:-1!=t.target.value?n.setState({selectedChallenge:!0}):n.setState({selectedChallenge:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={nameCollection:"",nameGroup:"",idGroup:-1,challengesNotInCollection:[],selectedChallenge:!1,idChallengeSelect:-1,dataChallenges:[],hayDesafios:!1,onModalDelete:!1,idBorrado:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getCollection(this.props.match.params.idCollection).then((function(t){t.length>0&&(e.setState({nameCollection:t[0].nombreColeccion,nameGroup:t[0].nombreGrupo,idGroup:t[0].idGrupo}),me.getChallengesNotInCollection(t[0].idGrupo,e.props.match.params.idCollection).then((function(t){e.setState({challengesNotInCollection:t})})))})),me.getChallengesFromCollection(this.props.match.params.idCollection).then((function(t){t.length>0&&e.setState({dataChallenges:t,hayDesafios:!0})}))}},{key:"onModalDeleteChallenge",value:function(e,t){this.setState({onModalDelete:e,idBorrado:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,'Colecci\xf3n "',this.state.nameCollection,'"')),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Puede usar este espacio para ver los desaf\xedos asociados a la colecci\xf3n, y a\xf1adir nuevos desaf\xedos si as\xed lo desea.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"flex-items-row-start wrap"},r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Grupo: ",r.a.createElement("u",null,this.state.nameGroup)," ")),r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Desaf\xedos:")),r.a.createElement("li",{className:"items-row"},1==this.state.hayDesafios?this.state.dataChallenges.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},t.titulo),r.a.createElement("li",{className:"flex-item-list"},1==t.colaborativo?"Individual":"Colaborativo"),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:t.id,to:"/teacher/collections/".concat(e.props.match.params.idCollection,"/").concat(t.id)},r.a.createElement(k.a,{size:"sm",variant:"primary"},"Ver escritos"))),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(k.a,{size:"sm",variant:"danger",onClick:function(){return e.onModalDeleteChallenge(!0,t.id)}},"Eliminar"))),r.a.createElement("hr",null))})):r.a.createElement(y.a,{variant:"danger"},"No hay ning\xfan desaf\xedo en esta colecci\xf3n")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("label",{className:"form-label",htmlFor:"idChallengeSelect"},"A\xf1adir un desaf\xedo")),r.a.createElement("li",{className:"flex-item-profile"},r.a.createElement("select",{name:"idChallengeSelect",id:"idChallengeSelect",onChange:this.handleChangeChallengeSelect},r.a.createElement("option",{selected:!0,value:"-1"},"Elija un desaf\xedo"),this.state.challengesNotInCollection.map((function(e){return r.a.createElement("option",{value:e.id},e.titulo)})))),r.a.createElement("li",{className:"flex-item-profile"},0==this.state.selectedChallenge?r.a.createElement(k.a,{size:"sm",text:"Anyadir desafio",disabled:!0},"A\xf1adir"):r.a.createElement(k.a,{size:"sm",text:"Anyadir desafio",onClick:function(){return e.addChallengeToCollection(e.state.idChallengeSelect)}},"A\xf1adir")))))))))),r.a.createElement(T.a,{show:this.state.onModalDelete},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"\xbfSeguro que deseas eliminar el desaf\xedo?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"primary",onClick:function(){return e.deleteChallenge()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalDeleteChallenge(!1,-1)}},"Cancelar"))))}}]),a}(n.Component),st=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={nameCollection:"",nameGroup:"",idGroup:-1,nameChallenge:"",dataWritings:[],hayEscritos:!1,colaborativo:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;me.getCollection(this.props.match.params.idCollection).then((function(t){t.length>0&&e.setState({nameCollection:t[0].nombreColeccion,nameGroup:t[0].nombreGrupo,idGroup:t[0].idGrupo}),me.getChallenge(e.props.match.params.idChallenge).then((function(t){e.setState({colaborativo:t[0].colaborativo,nameChallenge:t[0].titulo}),1==t[0].colaborativo?me.getWritingsStudent(e.state.idGroup,e.props.match.params.idChallenge).then((function(t){t.data.length>0&&e.setState({dataWritings:t.data,hayEscritos:!0})})):me.getWritingsTeam(e.state.idGroup,e.props.match.params.idChallenge).then((function(t){t.length>0&&e.setState({dataWritings:t,hayEscritos:!0})}))}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,'Desaf\xedo "',this.state.nameChallenge,'"')),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"En este espacio puede ver los escritos de los alumnos que pertenecen al desaf\xedo seleccionado.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"flex-items-row-start wrap"},r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Colecci\xf3n: ",r.a.createElement("u",null,this.state.nameCollection)," ")),r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Grupo: ",r.a.createElement("u",null,this.state.nameGroup)," ")),r.a.createElement("br",null),r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Escritos:")),r.a.createElement("li",{className:"items-row"},1==this.state.hayEscritos?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("u",null,r.a.createElement("b",null,"T\xedtulo:"))),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("u",null,r.a.createElement("b",null,1==this.state.colaborativo?"Estudiante:":"Equipo:")))),r.a.createElement("br",null),this.state.dataWritings.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},e.nombreEscrito),r.a.createElement("li",{className:"flex-item-list"},1==e.colaborativo?r.a.createElement(r.a.Fragment,null," ",e.nombreEstudiante," ",e.apellidosEstudiante," "):r.a.createElement(r.a.Fragment,null," ",e.nombreEquipo," "))),r.a.createElement("hr",null))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(y.a,{variant:"danger"},"No hay ning\xfan escrito para este desaf\xedo")),r.a.createElement("br",null)))))))))}}]),a}(n.Component);var mt=function(){var e=Object(h.g)().url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(Ee,{links:Ae,url:e}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/teacher/groups",component:rt}),r.a.createElement(h.b,{exact:!0,path:"/teacher/createGroup",component:pe}),r.a.createElement(h.b,{exact:!0,path:"/teacher/viewGroup/:idGroup",component:fe}),r.a.createElement(h.b,{exact:!0,path:"/teacher/viewTeam/:idTeam",component:Fe}),r.a.createElement(h.b,{exact:!0,path:"/teacher/createChallenge/:idGroup",component:Oe}),r.a.createElement(h.b,{exact:!0,path:"/teacher/editChallenge/:idGroup/:idChallenge",component:xe}),r.a.createElement(h.b,{exact:!0,path:"/teacher/students",component:We}),r.a.createElement(h.b,{exact:!0,path:"/teacher/applicants",component:Be}),r.a.createElement(h.b,{exact:!0,path:"/teacher/students/viewProfile/:idStudent",component:ze}),r.a.createElement(h.b,{exact:!0,path:"/teacher/editWriting/:idGroup/:idChallenge/:idWriting/:idStudent",component:Le}),r.a.createElement(h.b,{exact:!0,path:"/teacher/collections",component:ct}),r.a.createElement(h.b,{exact:!0,path:"/teacher/collections/:idCollection",component:it}),r.a.createElement(h.b,{exact:!0,path:"/teacher/collections/:idCollection/:idChallenge",component:st}))))};var ut=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,null))},dt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tabs:null,activeTab:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.data,t=e.find((function(e){return"active"===e.state}));this.setState({tabs:e,activeTab:t.id})}},{key:"handleClick",value:function(e,t){e.preventDefault();var a=this.state.tabs;a.forEach((function(e,n){a[n].state=e.id===t.id?"active":"inactive"})),this.setState({tabs:a,activeTab:t.id})}},{key:"renderTabs",value:function(){var e=this,t=this.state.tabs;return r.a.createElement("ul",{className:"nav nav-tabs"},t.map((function(t,a){return r.a.createElement("li",{className:"nav-item",key:a},r.a.createElement("a",{href:"/",className:"nav-link ".concat(t.state),onClick:function(a){return e.handleClick(a,t)}},t.name))})))}},{key:"render",value:function(){var e=this.state,t=e.tabs,a=e.activeTab-1;return r.a.createElement(r.a.Fragment,null,t&&this.renderTabs(),t&&t[a].content())}}]),a}(n.Component),ht=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showWritingFinalized=function(e){return 1===e.finalizado?"Si":"No"},n.showChallengeFinalized=function(e){var t=new Date,a=new Date(e.fechaFin);return t.getTime()>a.getTime()?"Si":"No"},n.challengeFinalized=function(e){var t=new Date,a=new Date(e.fechaFin);return t.getTime()>a.getTime()},n.state={data:[],showWritings:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;void 0===this.props.groupSelect?H.getWritings(E.getCurrentUser().id).then((function(t){0!==t.data.length&&e.setState({data:t.data,showWritings:!0})})).catch((function(e){console.log(e.message)})):H.getWritingsStudent(E.getCurrentUser().id,this.props.groupSelect).then((function(t){0!==t.length&&e.setState({data:t,showWritings:!0})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.showWritings;return r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label",htmlFor:""},"Lista de escritos")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Escrito"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Desaf\xedo"),r.a.createElement("th",null,"Desafio Finalizado"),r.a.createElement("th",null,"Estudiante"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.nombreEscrito),r.a.createElement("td",null,t.nombreGrupo),r.a.createElement("td",null,t.nombreDesafio),r.a.createElement("td",null,e.showChallengeFinalized(t)),r.a.createElement("td",null,t.nombre," ",t.apellidos),r.a.createElement("td",null,ee()(t.fechaFin).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(t.fechaFin).format("LT")),e.challengeFinalized(t)?r.a.createElement("td",null,r.a.createElement("img",{src:"/view.png",alt:""}),r.a.createElement(k.a,{href:"/student/viewWriting/".concat(e.props.groupSelect,"/").concat(t.idDesafio,"/").concat(t.id),variant:"link"},"Ver")):r.a.createElement("td",null,r.a.createElement(d.b,{to:"/student/editWriting/".concat(t.idGrupo,"/").concat(t.idDesafio,"/").concat(t.id)},r.a.createElement("img",{src:"/edit.png",alt:""}),r.a.createElement(k.a,{variant:"link",disabled:e.challengeFinalized(t)},"Editar"))))})))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No dispones de escritos para mostrar"))))}}]),a}(n.Component),gt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showWritingFinalized=function(e){return 1===e.finalizado?"Si":"No"},n.showChallengeFinalized=function(e){var t=new Date,a=new Date(e.fechaFin);return t.getTime()>a.getTime()?"Si":"No"},n.challengeFinalized=function(e){var t=new Date,a=new Date(e.fechaFin);return t.getTime()>a.getTime()},n.state={dataTeamStudent:[],dataWritingTeam:[],data:[],showWritings:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;void 0===this.props.groupSelect?H.getWritingsCollaborative(E.getCurrentUser().id).then((function(t){0!==t.data.length&&e.setState({dataWritingTeam:t.data,showWritings:!0})})).catch((function(e){console.log(e.message)})):H.getTeamStudentGroup(E.getCurrentUser().id,this.props.groupSelect).then((function(t){e.setState({dataTeamStudent:t}),0!=t.length&&H.getWritingsTeam(t[0].idEquipo,e.props.groupSelect).then((function(t){0!==t.length&&e.setState({dataWritingTeam:t,showWritings:!0})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataWritingTeam,n=t.showWritings;return r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,n?r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Lista de escritos"),r.a.createElement("div",{className:"table-margin"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Escrito"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Desafio"),r.a.createElement("th",null,"Desafio Finalizado"),r.a.createElement("th",null,"Equipo"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.nombreEscrito),r.a.createElement("td",null,t.nombreGrupo),r.a.createElement("td",null,t.nombreDesafio),r.a.createElement("td",null,e.showChallengeFinalized(t)),r.a.createElement("td",null,t.nombreEquipo),r.a.createElement("td",null,ee()(t.fechaFin).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(t.fechaFin).format("LT")),e.challengeFinalized(t)?r.a.createElement("td",null,r.a.createElement(d.b,{to:"/student/viewWriting/".concat(e.props.groupSelect,"/").concat(t.idDesafio,"/").concat(t.id)},r.a.createElement("img",{src:"/view.png",alt:""}),r.a.createElement(k.a,{size:"sm",variant:"link",disabled:1!==t.finalizado},"Ver"))):r.a.createElement("td",null,r.a.createElement(d.b,{to:"/student/editWriting/".concat(t.idGrupo,"/").concat(t.idDesafio,"/").concat(t.id)},r.a.createElement("img",{src:"/edit.png",alt:""}),r.a.createElement(k.a,{ize:"sm",variant:"link",disabled:e.challengeFinalized(t)},"Editar"))))})))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No dispones de escritos para mostrar"))))}}]),a}(n.Component);var ft=function(e){var t=Object(n.useState)(0),a=Object(Ie.a)(t,2),l=(a[0],a[1],[{id:1,name:"Escritos",content:function(){return r.a.createElement(ht,{key:e.groupSelect,groupSelect:e.groupSelect})},state:"active"},{id:2,name:"Escritos en equipo",content:function(){return r.a.createElement(gt,{key:e.groupSelect,groupSelect:e.groupSelect})},state:"inactive"}]);return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement(dt,{data:l}))))},pt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).createTeam=function(){""!==n.state.teamName&&(n.setState({modalCreateTeam:!1,showCreateTeam:!1}),H.createTeam(E.getCurrentUser().id,n.state.groupSelect,n.state.teamName).then((function(e){n.showModalSuccessCreateTeam();var t=e;H.addStudentTeam(t,E.getCurrentUser().id).then((function(e){H.getTeamStudentGroup(E.getCurrentUser().id,n.state.groupSelect).then((function(e){var t=E.getCurrentUser().username+" "+E.getCurrentUser().surname,a=[{idEstudiante:E.getCurrentUser().id,nombreEstudiante:E.getCurrentUser().username,apellidoEstudiante:E.getCurrentUser().surname}];n.setState({dataTeamStudentGroup:e,dataMembersTeam:a,idLider:E.getCurrentUser().id,nameLider:t,showTeamStudent:!0,showLiderStudent:!0})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})))},n.editTeam=function(){var e=[];H.editTeam(n.state.dataTeamStudentGroup[0].idEquipo,n.state.dataTeamStudentGroup[0].nombreEquipo,n.state.idLider,n.state.dataTeamStudentGroup[0].idGrupo).then((function(t){H.leaveStudentTeam(n.state.dataTeamStudentGroup[0].idEquipo,E.getCurrentUser().id).then((function(t){n.setState({dataTeamStudentGroup:e,showTeamStudent:!1,showLiderStudent:!1,modalDeleteTeam:!1,modalLeaveLider:!1})})).catch((function(e){console.log(e.message)})),n.setState({modalLeaveLider:!1})})).catch((function(e){console.log(e.message)}))},n.deleteTeam=function(){void 0===n.props.match&&n.setState({showCreateTeam:!0});var e=n.state.dataTeamStudentGroup[0].idEquipo;n.setState({dataTeamStudentGroup:[],showTeamStudent:!1,showLiderStudent:!1,modalDeleteTeam:!1}),H.getWritingsCollaborative(e).then((function(e){console.log("tienes equipos")})).catch((function(e){console.log(e.message)})),H.deleteTeam(e).then((function(e){})).catch((function(e){console.log(e.message)}))},n.askInvitation=function(){var e=n.state.dataTeamStudentGroup[0].idEquipo,t=n.state.groupSelect,a=n.state.idGuest;H.searchMessageByReceiver(t,a,e).then((function(r){0===r.length?H.searchMessageByIssuer(t,a,e).then((function(e){0===e.length?n.invite():n.showModalErrorReceiveInvitation()})).catch((function(e){console.log(e.message)})):n.showModalErrorInvitation()})).catch((function(e){console.log(e.message)}))},n.invite=function(){var e=n.state.groupSelect,t=E.getCurrentUser().username+" "+E.getCurrentUser().surname+" te env\xeda una invitaci\xf3n para unirte a su equipo "+n.state.dataTeamStudentGroup[0].nombreEquipo+" del Grupo de "+n.state.dataTeamStudentGroup[0].nombreGrupo;H.sendMessage(e,E.getCurrentUser().id,n.state.idGuest,n.state.dataTeamStudentGroup[0].idEquipo,t,2).then((function(e){n.showModalSuccesfulInvitation()})).catch((function(e){console.log(e.message)}))},n.leaveTeam=function(){void 0===n.props.match&&n.setState({showCreateTeam:!0});n.setState({dataTeamStudentGroup:[],showTeamStudent:!1,showLiderStudent:!1,modalLeaveTeam:!1}),H.leaveStudentTeam(n.state.dataTeamStudentGroup[0].idEquipo,E.getCurrentUser().id).then((function(e){})).catch((function(e){console.log(e.message)}))},n.kickStudentTeam=function(){n.setState({modalKickStudent:!1});var e=0,t=n.state.dataMembersTeam;t.map((function(a){n.state.idKicked===a.idEstudiante.toString()&&t.splice(e,1),e++})),n.setState({dataMembersTeam:t}),H.leaveStudentTeam(n.state.dataTeamStudentGroup[0].idEquipo,n.state.idKicked).then((function(e){})).catch((function(e){console.log(e.message)}))},n.selectLider=function(e){n.setState({idLider:e.target.value})},n.selectGuest=function(e){n.setState({idGuest:e.target.value})},n.selectKicked=function(e){n.setState({idKicked:e.target.value})},n.onChangeTeamName=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,l=Object(V.a)({},n.state.formErrors);switch(a){case"teamName":l.teamName=r.length<1?"Campo obligatorio requerido":""}n.setState({formErrors:l,teamName:e.target.value})},n.disabledButtonInvite=function(){return 0===n.state.dataTeamStudentGroup.length||(n.state.dataTeamStudentGroup[0].idCreador!==E.getCurrentUser().id||0===n.state.dataStudentWithoutTeam.length||null)},n.disabledButtonDeleteTeam=function(){return 0===n.state.dataTeamStudentGroup.length||n.state.dataTeamStudentGroup[0].idCreador!==E.getCurrentUser().id||null},n.disabledButtonKickMembersTeam=function(){return 0===n.state.dataTeamStudentGroup.length||(n.state.dataTeamStudentGroup[0].idCreador!==E.getCurrentUser().id||1===n.state.dataMembersTeam.length||null)},n.askLeaveTeam=function(){n.state.dataTeamStudentGroup[0].idCreador===E.getCurrentUser().id&&n.state.dataMembersTeam.length>1?n.showModalLeaveLider():n.showModalLeaveTeam()},n.askDeleteTeam=function(){n.state.dataTeamStudentGroup[0].idCreador===E.getCurrentUser().id&&n.showModalDeleteTeam()},n.showModalLeaveLider=function(){n.setState({modalLeaveLider:!0})},n.showModalCreateTeam=function(){n.setState({modalCreateTeam:!0})},n.showModalLeaveTeam=function(){n.setState({modalLeaveTeam:!0})},n.showModalKickStudent=function(){n.setState({modalKickStudent:!0})},n.showModalDeleteTeam=function(){n.setState({modalDeleteTeam:!0})},n.showModalErrorInvitation=function(){n.setState({modalErrorInvitation:!0}),setTimeout((function(){return n.setState({modalErrorInvitation:!1})}),2e3)},n.showModalErrorReceiveInvitation=function(){n.setState({modalErrorReceiveInvitation:!0}),setTimeout((function(){return n.setState({modalErrorReceiveInvitation:!1})}),3e3)},n.showModalSuccesfulInvitation=function(){n.setState({modalSuccesfulInvitation:!0}),setTimeout((function(){return n.setState({modalSuccesfulInvitation:!1})}),2e3)},n.showModalSuccessCreateTeam=function(){n.setState({modalSuccessCreateTeam:!0}),setTimeout((function(){return n.setState({modalSuccessCreateTeam:!1})}),2e3)},n.onModalCreateTeam=function(e){n.setState({modalCreateTeam:e})},n.state={dataTeamStudentGroup:[],dataMembersTeam:[],dataStudentWithoutTeam:[],teamName:"",idGuest:"",idKicked:"",idLider:"",nameLider:"",groupSelect:"",cdm:!1,onModal:!1,modalLeaveLider:!1,modalSuccesfulInvitation:!1,modalSuccessCreateTeam:!1,modalCreateTeam:!1,modalDeleteTeam:!1,modalLeaveTeam:!1,modalKickStudent:!1,modalErrorInvitation:!1,modalErrorReceiveInvitation:!1,showCreateTeam:!1,showTeamStudent:!1,showLiderStudent:!1,formErrors:{teamName:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;void 0===this.props.groupSelect?(e=this.props.match.params.idGroup,this.setState({groupSelect:e})):void 0===this.props.match&&(e=this.props.groupSelect,this.setState({groupSelect:e,showCreateTeam:!0})),H.getTeamStudentGroup(E.getCurrentUser().id,e).then((function(e){0!=e.length&&(e[0].idCreador===E.getCurrentUser().id?t.setState({dataTeamStudentGroup:e,idLider:e[0].idCreador,showLiderStudent:!0,showCreateTeam:!1}):t.setState({dataTeamStudentGroup:e,idLider:e[0].idCreador,showCreateTeam:!1})),0!=e.length&&H.getMembersTeam(e[0].idEquipo).then((function(e){var a;e.filter((function(e){return e.idEstudiante===t.state.idLider})).map((function(e){return a=e.nombreEstudiante+" "+e.apellidoEstudiante})),t.setState({dataMembersTeam:e,nameLider:a,showTeamStudent:!0,cdm:!0})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),H.getStudentWithoutTeam(e).then((function(e){t.setState({dataStudentWithoutTeam:e})})).catch((function(e){console.log(e.message)}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=1;n+=1,console.log("hola------\x3e",n++),this.state.cdm&&t.dataTeamStudentGroup!==this.state.dataTeamStudentGroup&&console.log("hacer algo")}},{key:"onModal",value:function(e){this.setState({onModal:e})}},{key:"checkCreateTeam",value:function(){""==this.state.teamName?this.onModal(!0):this.onModalCreateTeam(!0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.showCreateTeam,n=t.showTeamStudent,l=t.showLiderStudent,o=t.formErrors,c=t.dataTeamStudentGroup,i=t.dataMembersTeam;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Puedes seleccionar a un estudiante del grupo e invitarle o eliminar a miembro de tu equipo.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-row-items"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"  Estudiante a invitar "),r.a.createElement("select",{onChange:this.selectGuest,disabled:this.disabledButtonInvite()},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Seleccionar"),this.state.dataStudentWithoutTeam.filter((function(e){return e.id!==E.getCurrentUser().id})).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id}," ",e.nombre," ",e.apellidos," ")})))),r.a.createElement("div",{className:"form-button-column"},r.a.createElement(k.a,{size:"sm",disabled:this.disabledButtonInvite(),onClick:function(){return e.askInvitation()}},"Invitar"))),r.a.createElement("li",{className:"flex-row-items"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"}," Eliminar Integrante del equipo "),r.a.createElement("select",{onChange:this.selectKicked,disabled:this.disabledButtonKickMembersTeam()},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Seleccionar"),this.state.dataMembersTeam.filter((function(e){return e.idEstudiante!==E.getCurrentUser().id})).map((function(e,t){return r.a.createElement("option",{key:e.idEstudiante,value:e.idEstudiante}," ",e.nombreEstudiante+" "," ",e.apellidoEstudiante," ")})))),r.a.createElement("div",{className:"form-button-column"},r.a.createElement(k.a,{size:"sm",disabled:this.disabledButtonKickMembersTeam(),onClick:function(){return e.showModalKickStudent()}},"eliminar")))))):r.a.createElement(r.a.Fragment,null),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Lista de equipos")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Equipo"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Integrantes"),r.a.createElement("th",null,"Lider"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,c.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.nombreEquipo),r.a.createElement("td",null,t.nombreGrupo),r.a.createElement("td",null,i.map((function(e){return r.a.createElement("div",null,e.nombreEstudiante," ",e.apellidoEstudiante)}))),r.a.createElement("td",null,e.state.nameLider),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("img",{src:"/delete.png",alt:""}),r.a.createElement(k.a,{variant:"link",disabled:e.disabledButtonDeleteTeam(),onClick:function(){return e.askDeleteTeam()}},"Eliminar")),r.a.createElement("div",null,r.a.createElement("img",{src:"/exit.png",alt:""}),r.a.createElement(k.a,{variant:"link",disabled:e.state.dataMembersTeam.length<2||null,onClick:function(){return e.askLeaveTeam()}},"Dejar Equipo"))))})))))):r.a.createElement(r.a.Fragment,null),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("h5",null," Crear Equipo "),r.a.createElement("input",{className:o.teamName.length>0?"error":"form-input",type:"text",name:"teamName",placeholder:"escribe el nombre",value:this.state.teamName,onChange:this.onChangeTeamName,disabled:this.state.dataTeamStudentGroup.length>0||null}),o.teamName.length>0&&r.a.createElement("span",{className:"errorMessage"},o.teamName),r.a.createElement("div",{className:"form-button-column"},r.a.createElement(k.a,{onClick:function(){return e.checkCreateTeam()},disabled:this.state.dataTeamStudentGroup.length>0||null},"Crear Equipo")))):r.a.createElement(r.a.Fragment,null),r.a.createElement(T.a,{show:this.state.modalCreateTeam},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfEst\xe1s seguro de crear el equipo ",this.state.teamName," ?"))),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.createTeam()}},"Aceptar"),r.a.createElement(k.a,{color:"danger",onClick:function(){return e.setState({modalCreateTeam:!1})}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalLeaveLider},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"Como lider del equipo antes de abandonar el equipo es necesario asignar un lider"))),r.a.createElement(T.a.Body,null,r.a.createElement("label",null," Lider:"),r.a.createElement("select",{onChange:this.selectLider},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Seleccionar"),this.state.dataMembersTeam.filter((function(e){return e.idEstudiante!==E.getCurrentUser().id})).map((function(e,t){return r.a.createElement("option",{key:e.idEstudiante,value:e.idEstudiante}," ",e.nombreEstudiante+" "," ",e.apellidoEstudiante)})))),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.editTeam()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.setState({modalLeaveLider:!1})}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalSuccesfulInvitation},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Invitaci\xf3n enviada correctamente")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalSuccessCreateTeam},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Equipo creado correctamente!")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalDeleteTeam},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Aviso"),r.a.createElement("img",{src:"/triangle.png",alt:""})),r.a.createElement(T.a.Body,null,r.a.createElement("h5",null,"\xbfEst\xe1s seguro de eliminar el equipo?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteTeam()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.setState({modalDeleteTeam:!1})}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalLeaveTeam},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfEst\xe1s seguro de abandonar el equipo?"))),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.leaveTeam()}},"Aceptar"),r.a.createElement(k.a,{color:"danger",onClick:function(){return e.setState({modalLeaveTeam:!1})}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalKickStudent},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfEst\xe1s seguro de querer expulsar del equipo?"))),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.kickStudentTeam()}},"Aceptar"),r.a.createElement(k.a,{color:"danger",onClick:function(){return e.setState({modalKickStudent:!1})}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalErrorInvitation},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Ya has enviado una invitacion anteriormente")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalErrorReceiveInvitation},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Ya has recibido una petici\xf3n del estudiante para unirse a tu equipo")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{centered:!0,show:this.state.onModal,onHide:this.state.onModal},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Ups..."),r.a.createElement("img",{src:"/exclamation.png",alt:""})),r.a.createElement(T.a.Body,null,r.a.createElement("h5",null," No has ingresado un nombre ")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:function(){return e.onModal(!1)}},"Atras"))))))}}]),a}(n.Component),Et=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).askSendRequest=function(e){H.searchMessageByIssuer(n.props.groupSelect,E.getCurrentUser().id,e.idEquipo).then((function(t){0===t.length?H.searchMessageByReceiver(n.props.groupSelect,E.getCurrentUser().id,e.idEquipo).then((function(t){0===t.length?n.sendRequest(e):n.showModalErrorReceiveRequest()})).catch((function(e){console.log(e.message)})):n.showModalErrorSendRequest()})).catch((function(e){console.log(e.message)}))},n.sendRequest=function(e){var t=E.getCurrentUser().username,a=E.getCurrentUser().surname,r=e.nombreEquipo,l=e.nombreGrupo,o=n.props.groupSelect,c=t+" "+a+" te env\xeda una petici\xf3n para unirse a tu equipo '"+r+"' del Grupo '"+l+"'";H.sendMessage(o,E.getCurrentUser().id,e.idCreador,e.idEquipo,c,2).then((function(e){n.showModalSuccesfulSendJoinTeam()})).catch((function(e){console.log(e.message)}))},n.disabledButtonJoin=function(){return""!==n.state.teamStudent||null},n.showModalSuccesfulSendJoinTeam=function(){n.setState({modalSuccesfulSendJoinTeam:!0}),setTimeout((function(){return n.setState({modalSuccesfulSendJoinTeam:!1})}),2e3)},n.showModalErrorSendRequest=function(){n.setState({modalErrorSendRequest:!0}),setTimeout((function(){return n.setState({modalErrorSendRequest:!1})}),2e3)},n.showModalErrorReceiveRequest=function(){n.setState({modalErrorReceiveRequest:!0}),setTimeout((function(){return n.setState({modalErrorReceiveRequest:!1})}),2e3)},n.state={modalSuccesfulSendJoinTeam:!1,modalErrorSendRequest:!1,modalErrorReceiveRequest:!1,dataTeamsGroup:[],dataTeamStudent:[],teamStudent:"",showTeams:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getTeamsGroup(this.props.groupSelect).then((function(t){0!=t.length&&(e.setState({dataTeamsGroup:t,showTeams:!0}),H.getTeamStudentGroup(E.getCurrentUser().id,e.props.groupSelect).then((function(t){0!=t.length&&e.setState({teamStudent:t[0]})})).catch((function(e){console.log(e.message)})),H.getTeamStudent().then((function(t){e.setState({dataTeamStudent:t})})).catch((function(e){console.log(e.message)})))})).catch((function(e){console.log(e.message)}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=1;n+=1,console.log("hola------\x3e",n++),t.dataTeamStudent!=this.state.dataTeamStudent&&console.log("algo ha cambiado")}},{key:"render",value:function(){var e=this,t=this.state,a=t.showTeams,n=t.dataTeamsGroup,l=t.dataTeamStudent;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Lista de equipos")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"table-margin"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Equipo"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Integrantes"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,n.filter((function(e){return 1===e.activo})).map((function(t){return r.a.createElement("tr",{key:t.idEquipo},r.a.createElement("td",null,t.nombreEquipo),r.a.createElement("td",null,t.nombreGrupo),l.filter((function(e){return e.idEquipo===t.idEquipo})).map((function(e,t){return r.a.createElement("td",null," ",r.a.createElement("div",null,e.nombre," ",e.apellidos," "))})),r.a.createElement("td",null,r.a.createElement("img",{src:"/send.png",alt:""}),r.a.createElement(k.a,{variant:"link",onClick:function(){return e.askSendRequest(t)},disabled:e.disabledButtonJoin()},"Enviar Solicitud")))}))))))):r.a.createElement("div",{className:"table-margin"},r.a.createElement("p",null,"No hay equipos para mostrar")))),r.a.createElement(T.a,{show:this.state.modalSuccesfulSendJoinTeam},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Petici\xf3n enviada correctamente")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalErrorSendRequest},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," Ya has enviado una solicitud anteriormente")),r.a.createElement(T.a.Footer,null)),r.a.createElement(T.a,{show:this.state.modalErrorReceiveRequest},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Title,null,"Aviso")),r.a.createElement(T.a.Body,null,"Ya Tienes una solicitud pendiente de este equipo"),r.a.createElement(T.a.Footer,null)))}}]),a}(n.Component),vt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[{id:1,name:"Equipos",content:function(){return r.a.createElement(Et,{key:e.groupSelect,groupSelect:e.groupSelect})},state:"active"},{id:2,name:"Mi Equipo",content:function(){return r.a.createElement(pt,{key:e.groupSelect,groupSelect:e.groupSelect})},state:"inactive"}]},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row-edit"},r.a.createElement(dt,{data:this.state.data}))}}]),a}(n.Component),bt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).disabledButton=function(e){var t=new Date,a=new Date(e.fechaFin);return t.getTime()>a.getTime()},n.showCollaborative=function(e){return 1===e.colaborativo?"individual":"colaborativo"},n.showChallengeFinalized=function(e){var t=new Date,a=new Date(e.fechaFin);return t.getTime()>a.getTime()?"Si":"No"},n.state={data:[],dataWritingStudent:[],showChallenges:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;void 0===this.props.groupSelect?(H.getChallengesIndividual(E.getCurrentUser().id,1).then((function(t){0!==t.length&&e.setState({data:t,showChallenges:!0})})).catch((function(e){console.log(e.message)})),H.getWritings(E.getCurrentUser().id).then((function(t){0!==t.data.length&&e.setState({dataWritingStudent:t.data,showChallenges:!0})}))):(H.getChallenges(this.props.groupSelect,1).then((function(t){0!==t.length&&e.setState({data:t,showChallenges:!0})})).catch((function(e){console.log(e.message)})),H.getWritingsStudent(E.getCurrentUser().id,this.props.groupSelect).then((function(t){e.setState({dataWritingStudent:t})})).catch((function(e){console.log(e.message)})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.showChallenges,l=!1;return r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Lista de desafios")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Desafio"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Finalizado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.titulo),r.a.createElement("td",null,t.nombreGrupo),r.a.createElement("td",null,t.nombreCategoria),r.a.createElement("td",null,e.showCollaborative(t)),r.a.createElement("td",null,ee()(t.fechaFin).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(t.fechaFin).format("LT")),r.a.createElement("td",null,e.showChallengeFinalized(t)),l=!1,e.state.dataWritingStudent.filter((function(e){return e.idDesafio===t.id})).map((function(e,t){l=!0,e.id,e.finalizado,e})),r.a.createElement("td",null,r.a.createElement(k.a,{href:"/student/writing/".concat(t.idGrupo,"/").concat(t.id),variant:"primary",disabled:e.disabledButton(t)||l,size:"sm"},"Crear Escrito")))})))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No dispones de desafios para mostrar."))))}}]),a}(n.Component),Ct=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).disabledButtonEdit=function(e,t){if(0===n.state.dataWritingTeam.length)return!0;var a=new Date,r=new Date(e.fechaFin);return a.getTime()>r.getTime()||!t},n.disabledButtonCreate=function(e,t,a){if(!a)return!0;var n=new Date,r=new Date(e.fechaFin);return n.getTime()>r.getTime()||!!t},n.showCollaborative=function(e){return 1===e.colaborativo?"individual":"colaborativo"},n.showNameTeam=function(){if(n.state.dataWritingTeam.length>0)return n.state.dataWritingTeam[0].nombreEquipo},n.showChallengeFinalized=function(e){var t=new Date,a=new Date(e.fechaFin);return t.getTime()>a.getTime()?"Si":"No"},n.state={dataTeams:[],dataTeamStudent:[],data:[],dataWritingTeam:[],showChallenges:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;void 0===this.props.groupSelect?H.getTeams(E.getCurrentUser().id).then((function(t){0!=t.length?(e.setState({dataTeams:t}),H.getChallengesIndividual(E.getCurrentUser().id,2).then((function(t){0!==t.length&&(e.setState({data:t,showChallenges:!0}),H.getWritingsCollaborative(E.getCurrentUser().id).then((function(t){e.setState({dataWritingTeam:t.data})})))})).catch((function(e){console.log(e.message)}))):e.setState({showChallenges:!1})})).catch((function(e){console.log(e.message)})):(H.getChallenges(this.props.groupSelect,2).then((function(t){0!==t.length&&e.setState({data:t,showChallenges:!0})})).catch((function(e){console.log(e.message)})),H.getTeamStudentGroup(E.getCurrentUser().id,this.props.groupSelect).then((function(t){0!=t.length?(e.setState({dataTeams:t}),H.getWritingsTeam(t[0].idEquipo,e.props.groupSelect).then((function(t){e.setState({dataWritingTeam:t})})).catch((function(e){console.log(e.message)}))):e.setState({showChallenges:!1})})).catch((function(e){console.log(e.message)})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.showChallenges,l=t.dataWritingTeam,o=t.dataTeams,c=!1,i=!1;return r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Lista de escritos")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"table-margin"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Desafio"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Fecha"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Finalizado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.titulo),r.a.createElement("td",null,t.nombreGrupo),r.a.createElement("td",null,t.nombreCategoria),r.a.createElement("td",null,e.showCollaborative(t)),r.a.createElement("td",null,ee()(t.fechaFin).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(t.fechaFin).format("LT")),r.a.createElement("td",null,e.showChallengeFinalized(t)),c=!1,i=!1,l.filter((function(e){return e.idDesafio===t.id})).map((function(e,t){c=!0,e.id,e})),o.filter((function(e){return e.idGrupo===t.idGrupo})).map((function(e,t){i=!0})),i?r.a.createElement("td",null,r.a.createElement(k.a,{href:"/student/writing/".concat(t.idGrupo,"/").concat(t.id),variant:"primary",disabled:e.disabledButtonCreate(t,c,i)},"Crear Escrito")):r.a.createElement(r.a.Fragment,null))}))))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No dispones de desafios para mostrar o no dispones de equipo."))))}}]),a}(n.Component);var wt=function(e){var t=Object(n.useState)(0),a=Object(Ie.a)(t,2),l=(a[0],a[1],[{id:1,name:"Desafios",content:function(){return r.a.createElement(bt,{key:e.groupSelect,groupSelect:e.groupSelect})},state:"active"},{id:2,name:"Desafios en Equipo",content:function(){return r.a.createElement(Ct,{key:e.groupSelect,groupSelect:e.groupSelect})},state:"inactive"}]);return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement(dt,{data:l}))))},Nt=r.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return r.a.createElement("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),n(e)}},a,r.a.createElement($e.a,null,r.a.createElement(tt.a,null)))})),St=r.a.forwardRef((function(e,t){var a=e.children,l=e.style,o=e.className,c=e["aria-labelledby"],i=Object(n.useState)(""),s=Object(Ie.a)(i,2),m=s[0],u=s[1];return r.a.createElement("div",{ref:t,style:l,className:o,"aria-labelledby":c},r.a.createElement(Ye.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",onChange:function(e){return u(e.target.value)},value:m}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(a).filter((function(e){return!m||e.props.children.toLowerCase().startsWith(m)||e.props.children.toUpperCase().startsWith(m)}))))})),yt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).applyGroup=function(){n.onModalApply(!1),H.sendGroupRequest(n.state.groupSelect2,E.getCurrentUser().id).then((function(e){window.location.href="/student/groups"})).catch((function(e){console.log(e.message)}))},n.onModalApply=function(e){n.setState({modalApply:e})},n.itemSelection=function(e){"1"===e.target.value?n.setState({showChallenges:!0,showWritings:!1,showTeams:!1}):"2"===e.target.value?n.setState({showChallenges:!1,showWritings:!0,showTeams:!1}):"3"===e.target.value&&n.setState({showChallenges:!1,showWritings:!1,showTeams:!0})},n.disabledButton=function(){return!(n.state.dataGroup.length>0)},n.state={dataGroup:[],currentUser:{id:""},groupSelect:"",nameGroupSelect:"",itemSelect:"",showChallenges:!1,showWritings:!1,showTeams:!1,dataRemainingGroup:[],groupSelect2:-1,nameGroupSelect2:"",modalApply:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=E.getCurrentUser();this.setState({currentUser:t.id}),H.getGroups(t.id).then((function(t){t.length>0&&e.setState({dataGroup:t,groupSelect:t[0].idGrupo,nameGroupSelect:t[0].nombre,showChallenges:!0})})),H.getRemainingGroups(t.id).then((function(t){t.length>0&&e.setState({dataRemainingGroup:t,groupSelect2:t[0].id,nameGroupSelect2:t[0].nombre})})).catch((function(e){console.log(e.message)}))}},{key:"handleSelect",value:function(e){this.setState({groupSelect:e.idGrupo,nameGroupSelect:e.nombre})}},{key:"handleSelect2",value:function(e){this.setState({groupSelect2:e.id,nameGroupSelect2:e.nombre})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataGroup,n=t.groupSelect,l=t.showChallenges,o=t.showWritings,c=t.showTeams,i=t.dataRemainingGroup;t.nameGroupSelectNR;return r.a.createElement("div",{className:"container"},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Gestionar grupos"))),r.a.createElement("div",{className:"border-group"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Entrar a nuevos grupos")),r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(Pe.a,{className:"drop-down"},r.a.createElement(Ke.a,{as:Nt,id:"dropdown-custom-components"}," Selecciona grupo"),r.a.createElement(Ve.a,{as:St},i.map((function(t){return r.a.createElement(He.a,{eventKey:t.id,onClick:function(){return e.handleSelect2(t)}},t.nombre)}))))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("h4",{style:{color:"#717172"}},this.state.nameGroupSelect2)),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{text:"enviar",onClick:function(){return e.onModalApply(!0)}}," Solicitar entrar "))))),r.a.createElement("div",{className:"border-group"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Mis grupos")),r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement(Pe.a,{className:"drop-down"},r.a.createElement(Ke.a,{as:Nt,id:"dropdown-custom-components"},"Selecciona grupo"),r.a.createElement(Ve.a,{as:St},a.map((function(t){return r.a.createElement(He.a,{eventKey:t.idGrupo,onClick:function(){return e.handleSelect(t)}},t.nombre)}))))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("h4",{style:{color:"#717172"}},this.state.nameGroupSelect)),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label",htmlFor:""},"Seleccione un opci\xf3n"),r.a.createElement("select",{onChange:this.itemSelection,disabled:!this.state.groupSelect||null},r.a.createElement("option",{value:"1"}," Crear Escrito "),r.a.createElement("option",{value:"2"}," Escritos "),r.a.createElement("option",{value:"3"}," Equipos ")))))),l?r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,{key:n,groupSelect:n})):r.a.createElement(r.a.Fragment,null),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{key:n,groupSelect:n})):r.a.createElement(r.a.Fragment,null),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,{key:n,groupSelect:n})):r.a.createElement(r.a.Fragment,null))),r.a.createElement(T.a,{show:this.state.modalApply},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," \xbfDeseas enviar petici\xf3n?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.applyGroup()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalApply(!1)}},"Cancelar"))))}}]),a}(n.Component),kt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={dataTeams:[],dataTeamStudent:[],dataAux:[],showTeamStudent:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getTeams(E.getCurrentUser().id).then((function(t){0!==t.length&&e.setState({dataTeams:t,showTeamStudent:!0})})).catch((function(e){console.log(e.message)})),H.getTeamStudent().then((function(t){e.setState({dataTeamStudent:t})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showTeamStudent,n=t.dataTeams;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Listado de equipos"))),r.a.createElement("br",null),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Desde aqu\xed puedes gestionar todo sobre tus equipos.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Equipo"),r.a.createElement("th",null,"Grupo"),r.a.createElement("th",null,"Integrantes"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,n.filter((function(e){return 1===e.activo})).map((function(t){return r.a.createElement("tr",{key:t.idEquipo},r.a.createElement("td",null,t.nombreEquipo),r.a.createElement("td",null,t.nombreGrupo),r.a.createElement("td",null,e.state.dataTeamStudent.filter((function(e){return e.idEquipo===t.idEquipo})).map((function(e,t){return r.a.createElement("div",null,e.nombre," ",e.apellidos)}))),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/student/teamStudent/".concat(t.idGrupo)},r.a.createElement("img",{src:"/manage.png",alt:""}),r.a.createElement(k.a,{variant:"link"},"Gestionar"))))})))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},"No dispones de equipos para mostrar.")))))}}]),a}(n.Component),Tt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).createWriting=function(){n.onModalCreateWriting(!1),H.getWritingWriter(n.props.match.params.idGroup,n.props.match.params.idChallenge,n.state.form.idWriter).then((function(e){if(0==e.data.length)""!==n.state.form.escrito&&(H.createWriting(n.props.match.params.idGroup,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.challenge.colaborativo).then((function(e){n.state.imgCollection.length>0?H.sendMultimedia(n.state.imgCollection,n.state.form.idWriter,n.props.match.params.idChallenge,n.state.challenge.colaborativo).then((function(e){window.location.href="/student/groups"})).catch((function(e){console.log(e.message)})):window.location.href="/student/groups"})).catch((function(e){console.log(e.message)})),H.insertVersionfromWriting(n.state.maxIdWriting+1,1,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.challenge.colaborativo));else window.confirm("Ha ocurrido un error ya existe un escrito creado")})).catch((function(e){console.log(e.message)}))},n.editorChange=function(){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{escrito:we()(Object(be.convertToRaw)(n.state.editorState.getCurrentContent()))})})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.showTitle=function(e){return e.ruta.split("/")[8]},n.onChangeWritingName=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,l=Object(V.a)({},n.state.formErrors);switch(a){case"title":l.title=r.length<1?"Campo obligatorio requerido":""}n.setState({formErrors:l,form:Object(V.a)(Object(V.a)({},n.state.form),{},{title:e.target.value})})},n.showTypeChallenge=function(){return 1===n.state.challenge.colaborativo?"Escrito individual":"Escrito Colaborativo"},n.disabledButton=function(){return 0===n.state.form.title.length||0===n.state.form.escrito.length||"<p></p>\n"===n.state.form.escrito},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.state={imgCollection:[],dataTeamStudent:[],editorState:be.EditorState.createEmpty(),challenge:"",dataMediaChallenge:[],modalCreateWriting:!1,formErrors:{title:"",description:""},form:{idWriter:"",title:"",escrito:""},maxIdWriting:-1},n}return Object(i.a)(a,[{key:"onModalCreateWriting",value:function(e){this.setState({modalCreateWriting:e})}},{key:"componentDidMount",value:function(){var e=this;H.getChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({challenge:t[0]}),2===t[0].colaborativo?H.getTeamStudentGroup(E.getCurrentUser().id,e.props.match.params.idGroup).then((function(t){e.setState({dataTeamStudent:t,form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:t[0].idEquipo})})})).catch((function(e){console.log(e.message)})):e.setState({dataTeamStudent:t,form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:E.getCurrentUser().id})})})).catch((function(e){console.log(e.message)})),H.getMultimediaChallenge(this.props.match.params.idChallenge).then((function(t){t.data[0];e.setState({dataMediaChallenge:t.data})})).catch((function(e){console.log(e.message)})),H.getHighestidWriting().then((function(t){e.setState({maxIdWriting:t[0].maxIdWriting})})).catch((function(e){console.log(e.message)}))}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state,a=t.editorState,n=t.dataMediaChallenge,l=t.formErrors;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,this.showTypeChallenge()))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Detalles del desaf\xedo")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Nombre del desaf\xedo"),r.a.createElement("h5",null," ",this.state.challenge.titulo," ")),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Categoria"),r.a.createElement("h5",null,this.state.challenge.nombre)))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Leer la descripci\xf3n del Desaf\xedo"),r.a.createElement("div",{className:"challenge-inputs",dangerouslySetInnerHTML:{__html:this.state.challenge.descripcion}})),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia: "),n.length>0?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},n.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("div",{className:"form-button"},r.a.createElement("td",null,r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver"))))}))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement("p",null,"No hay ficheros para mostrar"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Espacio de Escritura")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-inputs"},r.a.createElement("label",{className:"form-label"},"Titulo"),r.a.createElement("div",null,r.a.createElement("input",{className:l.title.length>0?"error":"form-input",type:"text",name:"title",placeholder:"Escribe el t\xedtulo",value:this.state.form.title,onChange:this.onChangeWritingName}),l.title.length>0&&r.a.createElement("span",{className:"alert-login"},l.title)))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"}," Descripci\xf3n "),r.a.createElement(ve.Editor,{editorState:a,wrapperClassName:"wrapperClassName1",editorClassName:"editorClassName1",toolbarClassName:"toolbarClassName1",onEditorStateChange:this.onEditorStateChange,onChange:function(t,n){var r=Object(V.a)({},e.state.formErrors);a.getCurrentContent().hasText()?r.description="":r.description="Campo texto Vac\xedo",e.setState({formErrors:r,form:Object(V.a)(Object(V.a)({},e.state.form),{},{escrito:we()(Object(be.convertToRaw)(e.state.editorState.getCurrentContent()))})})},className:l.description.length>0?"error":"form-control"}),l.description.length>0&&r.a.createElement("span",{className:"alert-login"},l.description)),r.a.createElement("br",null),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Puedes agregar un fichero multimedia si lo deseas (imagen,video o audio): "),r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"file",name:"imgCollection",onChange:this.onFileChange,multiple:!0}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{text:"enviar",onClick:function(){return e.onModalCreateWriting(!0)},disabled:this.disabledButton()}," Enviar  ")),r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.location.href="/student/challengesTabs"}},"Cancelar"))))),r.a.createElement(T.a,{show:this.state.modalCreateWriting},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," \xbfEst\xe1s seguro de enviar el escrito?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.createWriting()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalCreateWriting(!1)}},"Cancelar"))))}}]),a}(n.Component),jt=(r.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return r.a.createElement("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),n(e)}},a,r.a.createElement($e.a,null,r.a.createElement(tt.a,null)))})),r.a.forwardRef((function(e,t){var a=e.children,l=e.style,o=e.className,c=e["aria-labelledby"],i=Object(n.useState)(""),s=Object(Ie.a)(i,2),m=s[0],u=s[1];return r.a.createElement("div",{ref:t,style:l,className:o,"aria-labelledby":c},r.a.createElement(Ye.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",onChange:function(e){return u(e.target.value)},value:m}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(a).filter((function(e){return!m||e.props.children.toLowerCase().startsWith(m)||e.props.children.toUpperCase().startsWith(m)}))))})),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).editWriting=function(){n.onModalEditWriting(!1),H.editWriting(n.props.match.params.idWriting,n.props.match.params.idGroup,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.challenge.colaborativo).then((function(e){n.state.imgCollection.length>0?H.sendMultimedia(n.state.imgCollection,n.state.form.idWriter,n.props.match.params.idChallenge,n.state.challenge.colaborativo).then((function(e){window.location.href="/student/writingsTabs"})).catch((function(e){console.log(e.message)})):window.location.href="/student/writingsTabs"})).catch((function(e){console.log(e.message)})),H.insertVersionfromWriting(n.props.match.params.idWriting,n.state.maxIdVersion+1,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.challenge.colaborativo)},n.deleteFile=function(e){n.closeModalDeleteFile();var t=0,a=n.state.dataMediaWriting;a.map((function(n){e.id===n.id&&a.splice(t,1),t++})),n.setState({dataMediaWriting:a}),H.deleteMultimedia(e.id,e.ruta).then((function(e){})).catch((function(e){console.log(e.message)}))},n.editorChange=function(){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{escrito:we()(Object(be.convertToRaw)(n.state.editorState.getCurrentContent()))})})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.onContentStateChange=function(e){n.setState({contentState:e})},n.showTitle=function(e){return e.ruta.split("/")[8]},n.askDeleteFile=function(e){var t=e.ruta.split("/");n.setState({nameDeleteFileMedia:t[8],deleteFileMedia:e}),n.showModalDeleteFile()},n.showModalDeleteFile=function(){n.setState({modalDeleteFile:!0})},n.closeModalDeleteFile=function(){n.setState({modalDeleteFile:!1})},n.onChangeWritingName=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,l=Object(V.a)({},n.state.formErrors);switch(a){case"title":l.title=r.length<1?"Campo obligatorio requerido":""}n.setState({formErrors:l,form:Object(V.a)(Object(V.a)({},n.state.form),{},{title:e.target.value})})},n.showCollaborative=function(){return 1===n.state.challenge.colaborativo?"Individual":"Colaborativo"},n.disabledButton=function(){return 0===n.state.form.title.length||0===n.state.form.escrito.length||"<p></p>\n"===n.state.form.escrito},n.onModalEditWriting=function(e){n.setState({modalEditWriting:e})},n.infoWriting=function(e){n.state.data.map((function(e){return"".concat(e.idGrupo,"/").concat(e.idDesafio,"/").concat(e.id)}))},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.state={imgCollection:[],contentState:null,editorState:be.EditorState.createEmpty(),challenge:"",dataMediaChallenge:[],dataMediaWriting:[],modalDeleteFile:!1,deleteFileMedia:"",nameDeleteFileMedia:"",modalEditWriting:!1,writing:"",formErrors:{title:"",description:""},form:{idWriter:"",title:"",escrito:""},maxIdVersion:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getHighestidVersionfromWriting(this.props.match.params.idWriting).then((function(t){t.length>0?e.setState({maxIdVersion:t[0].maxId}):e.setState({maxIdVersion:0}),H.getChallenge(e.props.match.params.idChallenge).then((function(t){e.setState({challenge:t[0]}),2===t[0].colaborativo?H.getTeamStudentGroup(E.getCurrentUser().id,e.props.match.params.idGroup).then((function(t){e.setState({form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:t[0].idEquipo})}),H.getMultimediaWriting(e.props.match.params.idChallenge,t[0].idEquipo).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})):(e.setState({form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:E.getCurrentUser().id})}),H.getMultimediaWriting(e.props.match.params.idChallenge,E.getCurrentUser().id).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)})))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),H.getMultimediaChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({dataMediaChallenge:t.data})})).catch((function(e){console.log(e.message)})),H.getHighestidVersionfromWriting(this.props.match.params.idWriting).then((function(t){t.length>0?e.setState({maxIdVersion:t[0].maxId}):e.setState({maxIdVersion:0})})).catch((function(e){console.log(e.message)})),H.getWriting(this.props.match.params.idWriting).then((function(t){var a=Object(Me.a)(t.data[0].texto),n=be.EditorState.createWithContent(a);e.setState({writing:t.data[0],editorState:n,form:Object(V.a)(Object(V.a)({},e.state.form),{},{title:t.data[0].nombre,escrito:t.data[0].texto})})})).catch((function(e){console.log(e.message)})),H.getWritings(E.getCurrentUser().id).then((function(t){e.setState({escritosNoCombinados:t.data})})).catch((function(e){console.log(e.message)}))}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state,a=t.editorState,n=t.dataMediaChallenge,l=t.dataMediaWriting,o=t.formErrors;t.data,t.escritosNoCombinados,t.textoEscritoCombinado;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Editar Escrito ",this.showCollaborative()))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Detalles del desaf\xedo")),r.a.createElement("hr",null),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Nombre"),r.a.createElement("h5",null," ",this.state.challenge.titulo," ")),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Categoria"),r.a.createElement("h5",null,this.state.challenge.nombre))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Leer la descripci\xf3n del Desaf\xedo"),r.a.createElement("div",{className:"challenge-inputs",dangerouslySetInnerHTML:{__html:this.state.challenge.descripcion}})),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia: "),n.length>0?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},n.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver"))))}))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement("p",null,"No hay ficheros para mostrar"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Espacio de escritura")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-inputs"},r.a.createElement("label",{className:"form-label"},"Titulo"),r.a.createElement("div",null,r.a.createElement("input",{className:o.title.length>0?"error":"form-input",type:"text",name:"title",placeholder:"Escribe el t\xedtulo",value:this.state.form.title,onChange:this.onChangeWritingName}),o.title.length>0&&r.a.createElement("span",{className:"alert-login"},o.title)))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Escribe aqu\xed"),r.a.createElement(ve.Editor,{editorState:a,wrapperClassName:"wrapperClassName1",editorClassName:"editorClassName1",toolbarClassName:"toolbarClassName1",onEditorStateChange:this.onEditorStateChange,onContentStateChange:this.onContentStateChange,onChange:function(t,n){var r=Object(V.a)({},e.state.formErrors);a.getCurrentContent().hasText()?r.description="":r.description="Campo texto vac\xedo",e.setState({formErrors:r,form:Object(V.a)(Object(V.a)({},e.state.form),{},{escrito:we()(Object(be.convertToRaw)(e.state.editorState.getCurrentContent()))})})},className:o.description.length>0?"error":"form-control"}),o.description.length>0&&r.a.createElement("span",{className:"alert-login"},o.description)),r.a.createElement("br",null),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Puedes agregar un fichero multimedia si lo deseas (imagen,video o audio): "),r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"file",name:"imgCollection",onChange:this.onFileChange,multiple:!0}))),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia"),l.length>0?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},l.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver"))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.askDeleteFile(t)}},"Eliminar"))))}))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement("p",null,"No hay ficheros para mostrar"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{text:"enviar",onClick:function(){return e.onModalEditWriting(!0)},disabled:this.disabledButton()}," Guardar  ")),r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.location.href="/student/writingsTabs"}},"Cancelar")),r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.location.href="/student/versionsWriting/".concat(e.props.match.params.idGroup,"/").concat(e.props.match.params.idChallenge,"/").concat(e.props.match.params.idWriting)}},"Acceder a versiones anteriores"))))),r.a.createElement(T.a,{show:this.state.modalDeleteFile},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfSeguro que desea eliminar ",this.state.nameDeleteFileMedia,"?")," ")),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteFile(e.state.deleteFileMedia)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.closeModalDeleteFile()}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalEditWriting},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," \xbfDeseas guardar los cambios?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.editWriting()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalEditWriting(!1)}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalCombinarEscrito},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," \xbfDeseas combinar este escrito?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.combinarEscrito(e.state.idWritingSelect)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalCombinarEscrito(!1)}},"Cancelar"))))}}]),a}(n.Component)),Ot=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).editWriting=function(){H.editWriting(n.props.match.params.idWriting,n.props.match.params.idGroup,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.escrito,n.state.challenge.colaborativo).then((function(e){n.state.imgCollection.length>0?H.sendMultimedia(n.state.imgCollection,n.state.form.idWriter,n.props.match.params.idChallenge,n.state.challenge.colaborativo).then((function(e){window.location.href="/student"})).catch((function(e){console.log(e.message)})):window.location.href="/student"})).catch((function(e){console.log(e.message)}))},n.deleteFile=function(e){n.closeModalDeleteFile();var t=0,a=n.state.dataMediaWriting;a.map((function(n){e.id===n.id&&a.splice(t,1),t++})),n.setState({dataMediaWriting:a}),H.deleteMultimedia(e.id,e.ruta).then((function(e){})).catch((function(e){console.log(e.message)}))},n.editorChange=function(){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{escrito:we()(Object(be.convertToRaw)(n.state.editorState.getCurrentContent()))})})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.onContentStateChange=function(e){n.setState({contentState:e})},n.showTitle=function(e){return e.ruta.split("/")[8]},n.askDeleteFile=function(e){var t=e.ruta.split("/");n.setState({nameDeleteFileMedia:t[8],deleteFileMedia:e}),n.showModalDeleteFile()},n.showModalDeleteFile=function(){n.setState({modalDeleteFile:!0})},n.closeModalDeleteFile=function(){n.setState({modalDeleteFile:!1})},n.showTypeChallenge=function(){return 1===n.state.challenge.colaborativo?"Escrito individual":"Escrito Colaborativo"},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.state={imgCollection:[],dataTeamStudent:[],contentState:null,editorState:be.EditorState.createEmpty(),challenge:"",writing:"",dataMediaChallenge:[],dataMediaWriting:[],modalDeleteFile:!1,deleteFileMedia:"",nameDeleteFileMedia:"",form:{idWriter:"",escrito:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({challenge:t[0]}),2===t[0].colaborativo?H.getTeamStudentGroup(E.getCurrentUser().id,e.props.match.params.idGroup).then((function(t){e.setState({dataTeamStudent:t,form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:t[0].idEquipo})})})).catch((function(e){console.log(e.message)})):e.setState({dataTeamStudent:t,form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:E.getCurrentUser().id})}),H.getMultimediaWriting(e.props.match.params.idChallenge,e.state.form.idWriter).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),H.getMultimediaChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({dataMediaChallenge:t.data})})).catch((function(e){console.log(e.message)})),H.getWriting(this.props.match.params.idWriting).then((function(t){var a=Object(Me.a)(t.data[0].texto),n=be.EditorState.createWithContent(a);e.setState({editorState:n,writing:t.data[0],form:Object(V.a)(Object(V.a)({},e.state.form),{},{escrito:t.data[0].texto})})})).catch((function(e){console.log(e.message)}))}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state.dataMediaChallenge,a=this.state.dataMediaWriting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,this.showTypeChallenge()))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label",htmlFor:""},"DETALLES DEL DESAF\xcdO")),r.a.createElement("hr",null),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label",htmlFor:""},"Nombre"),r.a.createElement("h5",null," ",this.state.challenge.titulo," ")),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Categoria"),r.a.createElement("h5",null,this.state.challenge.nombre))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Leer la descripci\xf3n del Desaf\xedo"),r.a.createElement("div",{className:"challenge-inputs",dangerouslySetInnerHTML:{__html:this.state.challenge.descripcion}})),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia: "),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{style:{width:"500px",height:"250px",overflow:"scroll",behavior:"smooth"}},t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver")))})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label",htmlFor:""},"Escrito")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Titulo "),r.a.createElement("h5",null,this.state.writing.nombre)),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Descripci\xf3n "),r.a.createElement("div",{className:"challenge-inputs"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.form.escrito}}))),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia: "),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{style:{width:"500px",height:"250px",overflow:"scroll",behavior:"smooth"}},a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver")))})))))),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Calificaci\xf3n: "),r.a.createElement("td",null,r.a.createElement("textarea",{rows:"2",cols:"10",value:this.state.writing.puntuacion,readOnly:!0,style:{resize:"none",textAlign:"center"}}))),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Comentarios: "),r.a.createElement("td",null,r.a.createElement("textarea",{rows:"10",cols:"70",value:this.state.writing.comentario,readOnly:!0,style:{resize:"none",justifyContent:"center"}}))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.location.href="/student"}},"Volver")))))),r.a.createElement(T.a,{show:this.state.modalDeleteFile},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfEst\xe1s seguro de eliminar ",this.state.nameDeleteFileMedia,"?")," ")),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteFile(e.state.deleteFileMedia)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.closeModalDeleteFile()}},"Cancelar"))))}}]),a}(n.Component),Mt=[{path:"/groups",name:"Grupos",icon:"/group.png",id:"challenges"},{path:"/challengesTabs",name:"Crear Escrito",icon:"/create-new.png",id:"desafios"},{path:"/writingsTabs",name:"Escritos",icon:"/writing.png",id:"escritos"},{path:"/teams",name:"Equipos",icon:"/team.png",id:"teams"},{path:"/visualizecollections",name:"Colecciones",icon:"/collection.png",id:"colecciones"}],xt=a(369),Dt=a.n(xt)()("http://localhost:3001"),Gt=(a(660),function(e){var t=e.pruebaChange,a=e.nombre,l=Object(n.useState)(""),o=Object(Ie.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)([]),m=Object(Ie.a)(s,2),u=m[0],d=m[1];Object(n.useEffect)((function(){Dt.emit("conectado",a)}),[a]),Object(n.useEffect)((function(){return Dt.on("mensajes",(function(e){d([].concat(Object(_e.a)(u),[e]))})),function(){Dt.off()}}),[u]);Object(n.useRef)(null);return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:""},"Borrador"),r.a.createElement("div",{className:"chat"},u.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,e.nombre),r.a.createElement("div",null,e.mensaje))}))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Dt.emit("mensaje",a,c),t(a,c,u),i("")}},r.a.createElement("label",{htmlFor:""},"Escribe en el borrador"),r.a.createElement("div",null,r.a.createElement("textarea",{name:"",id:"",cols:"30",rows:"10",value:c,onChange:function(e){return i(e.target.value)}})),r.a.createElement("button",null,"Escribir")))}),Ft=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).editWriting=function(){H.editWritingTeam(n.props.match.params.idWriting,n.props.match.params.idGroup,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.log,n.state.challenge.colaborativo).then((function(e){n.state.imgCollection.length>0?H.sendMultimedia(n.state.imgCollection,n.state.form.idWriter,n.props.match.params.idChallenge,n.state.challenge.colaborativo).then((function(e){window.location.href="/student"})).catch((function(e){console.log(e.message)})):window.location.href="/student"})).catch((function(e){console.log(e.message)}))},n.deleteFile=function(e){n.closeModalDeleteFile();var t=0,a=n.state.dataMediaWriting;a.map((function(n){e.id===n.id&&a.splice(t,1),t++})),n.setState({dataMediaWriting:a}),H.deleteMultimedia(e.id,e.ruta).then((function(e){})).catch((function(e){console.log(e.message)}))},n.editorChange=function(){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{escrito:we()(Object(be.convertToRaw)(n.state.editorState.getCurrentContent()))})})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.onContentStateChange=function(e){n.setState({contentState:e})},n.showTitle=function(e){return e.ruta.split("/")[8]},n.askDeleteFile=function(e){var t=e.ruta.split("/");n.setState({nameDeleteFileMedia:t[8],deleteFileMedia:e}),n.showModalDeleteFile()},n.showModalDeleteFile=function(){n.setState({modalDeleteFile:!0})},n.closeModalDeleteFile=function(){n.setState({modalDeleteFile:!1})},n.onChangeWritingName=function(e){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{title:e.target.value})})},n.showCollaborative=function(){return 1===n.state.challenge.colaborativo?"Individual":"Colaborativo"},n.pruebaChange=function(e,t,a){for(var r=0;r<a.length;r++)n.setState({log:n.state.log+"<p><strong>"+a[r].nombre+"</strong><br/>"+a[r].mensaje+"<br/></p>"})},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.state={imgCollection:[],contentState:null,editorState:be.EditorState.createEmpty(),challenge:"",dataMediaChallenge:[],dataMediaWriting:[],modalDeleteFile:!1,deleteFileMedia:"",nameDeleteFileMedia:"",writing:"",log:"",form:{idWriter:"",title:"",escrito:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({challenge:t[0]}),2===t[0].colaborativo&&H.getTeamStudentGroup(E.getCurrentUser().id,e.props.match.params.idGroup).then((function(t){e.setState({form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:t[0].idEquipo})}),H.getMultimediaWriting(e.props.match.params.idChallenge,t[0].idEquipo).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),H.getMultimediaChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({dataMediaChallenge:t.data})})).catch((function(e){console.log(e.message)})),H.getWriting(this.props.match.params.idWriting).then((function(t){var a=Object(Me.a)(t.data[0].texto),n=be.EditorState.createWithContent(a);e.setState({writing:t.data[0],editorState:n,log:t.data[0].registro,form:Object(V.a)(Object(V.a)({},e.state.form),{},{title:t.data[0].nombre,escrito:t.data[0].texto})})})).catch((function(e){console.log(e.message)}))}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataMediaChallenge,n=t.dataMediaWriting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("label",{className:"form-label"},"Editar Escrito ",this.showCollaborative()),r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("h2",null," ",this.state.challenge.titulo," ")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Categoria"),r.a.createElement("p",null,this.state.challenge.nombre)),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Leer la descripci\xf3n del Desaf\xedo"),r.a.createElement("div",{className:"challenge-inputs",dangerouslySetInnerHTML:{__html:this.state.challenge.descripcion}})),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia: "),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{style:{width:"500px",height:"250px",overflow:"scroll",behavior:"smooth"}},a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver")))})))))),r.a.createElement("div",{className:"form-inputs"},r.a.createElement("label",{className:"form-label"},"Titulo"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"title",placeholder:"Escribe el t\xedtulo",value:this.state.form.title,onChange:this.onChangeWritingName}))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Descripci\xf3n "),r.a.createElement(ve.Editor,{editorState:this.state.editorState,toolbarClassName:"toolbarClassName1",wrapperClassName:"wrapperClassName1",editorClassName:"editorClassName1",onEditorStateChange:this.onEditorStateChange,onContentStateChange:this.onContentStateChange,onChange:this.editorChange})),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Puedes agregar un fichero multimedia si lo deseas (imagen,video o audio): "),r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"file",name:"imgCollection",onChange:this.onFileChange,multiple:!0}))),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia: "),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{style:{width:"500px",height:"250px",overflow:"scroll",behavior:"smooth"}},n.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver")),r.a.createElement("td",null,r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.askDeleteFile(t)}},"Eliminar")))})))))),r.a.createElement("div",{class:"row-edit"},r.a.createElement(Gt,{pruebaChange:this.pruebaChange,nombre:E.getCurrentUser().username})),r.a.createElement("div",{className:"form-select"},r.a.createElement(k.a,{text:"enviar",onClick:function(){return e.editWriting()}}," Guardar  ")),r.a.createElement("div",{className:"form-select"},r.a.createElement(k.a,{onClick:function(){return window.location.href="/student"}},"Cancelar"))))),r.a.createElement(T.a,{show:this.state.modalDeleteFile},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfEst\xe1s seguro de eliminar ",this.state.nameDeleteFileMedia,"?")," ")),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteFile(e.state.deleteFileMedia)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.closeModalDeleteFile()}},"Cancelar"))))}}]),a}(n.Component),Wt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showCollaborative=function(){return 1===n.state.challenge.colaborativo?"Individual":"Colaborativo"},n.state={data:[],challenge:"",dataTeam:[],challenge2:"",colaborativo:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getVersionsfromWriting(this.props.match.params.idWriting).then((function(t){0!==t.length&&e.setState({data:t.data,challenge:t.data[0].nombreDesafio})})).catch((function(e){console.log(e.message)})),H.getVersionsfromWritingTeam(this.props.match.params.idWriting).then((function(t){e.setState({dataTeam:t,challenge2:t[0].nombreDesafio,colaborativo:!0})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.challenge,n=e.dataTeam,l=e.colaborativo;return r.a.createElement("div",{class:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label",htmlFor:""},"Lista de versiones")),r.a.createElement("hr",null),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Desaf\xedo"),!1===l?r.a.createElement("h5",null," ",a," "):r.a.createElement("h5",null,this.state.challenge2))),r.a.createElement("div",{className:"row-edit"},r.a.createElement(te.a,{bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Versi\xf3n"),r.a.createElement("th",null," T\xedtulo"),!1===l?r.a.createElement("th",null,"Estudiante"):r.a.createElement("th",null,"Equipo"),r.a.createElement("th",null,"Fecha de modificaci\xf3n"),r.a.createElement("th",null,"Hora"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,!1===l?t.map((function(e){return r.a.createElement("tr",{key:e.idEscrito},r.a.createElement("td",null,e.idVersion),r.a.createElement("td",null,e.nombreEscrito),r.a.createElement("td",null,e.nombre," ",e.apellidos),r.a.createElement("td",null,ee()(e.fecha).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(e.fecha).format("LT")),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/student/editVersionfromWriting/".concat(e.idGrupo,"/").concat(e.idDesafio,"/").concat(e.idEscrito,"/").concat(e.idVersion)},r.a.createElement("img",{src:"/edit.png",alt:""}),r.a.createElement(k.a,{variant:"link"},"Editar"))))})):n.map((function(e){return r.a.createElement("tr",{key:e.idEscrito},r.a.createElement("td",null,e.idVersion),r.a.createElement("td",null,e.nombreEscrito),r.a.createElement("td",null,e.nombreEquipo),r.a.createElement("td",null,ee()(e.fecha).format("DD/MM/YYYY")),r.a.createElement("td",null,ee()(e.fecha).format("LT")),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/student/editVersionfromWriting/".concat(e.idGrupo,"/").concat(e.idDesafio,"/").concat(e.idEscrito,"/").concat(e.idVersion)},r.a.createElement("img",{src:"/edit.png",alt:""}),r.a.createElement(k.a,{variant:"link"},"Editar"))))})))))))))}}]),a}(n.Component),Bt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).insertVersion=function(){n.onModalInsertVersion(!1),H.insertVersionfromWriting(n.props.match.params.idWriting,n.state.maxIdVersion+1,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.challenge.colaborativo).then((function(e){H.editWriting(n.props.match.params.idWriting,n.props.match.params.idGroup,n.props.match.params.idChallenge,n.state.form.idWriter,n.state.form.title,n.state.form.escrito,n.state.challenge.colaborativo).then((function(e){n.state.imgCollection.length>0?H.sendMultimedia(n.state.imgCollection,n.state.form.idWriter,n.props.match.params.idChallenge,n.state.challenge.colaborativo).then((function(e){window.location.href="/student/versionsWriting/".concat(n.props.match.params.idGroup,"/").concat(n.props.match.params.idChallenge,"/").concat(n.props.match.params.idWriting)})).catch((function(e){console.log(e.message)})):window.location.href="/student/versionsWriting/".concat(n.props.match.params.idGroup,"/").concat(n.props.match.params.idChallenge,"/").concat(n.props.match.params.idWriting)})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},n.onModalInsertVersion=function(e){n.setState({modalInsertVersion:e})},n.deleteFile=function(e){n.closeModalDeleteFile();var t=0,a=n.state.dataMediaWriting;a.map((function(n){e.id===n.id&&a.splice(t,1),t++})),n.setState({dataMediaWriting:a}),H.deleteMultimedia(e.id,e.ruta).then((function(e){})).catch((function(e){console.log(e.message)}))},n.editorChange=function(){n.setState({form:Object(V.a)(Object(V.a)({},n.state.form),{},{escrito:we()(Object(be.convertToRaw)(n.state.editorState.getCurrentContent()))})})},n.onEditorStateChange=function(e){n.setState({editorState:e})},n.onContentStateChange=function(e){n.setState({contentState:e})},n.showTitle=function(e){return e.ruta.split("/")[8]},n.askDeleteFile=function(e){var t=e.ruta.split("/");n.setState({nameDeleteFileMedia:t[8],deleteFileMedia:e}),n.showModalDeleteFile()},n.showModalDeleteFile=function(){n.setState({modalDeleteFile:!0})},n.closeModalDeleteFile=function(){n.setState({modalDeleteFile:!1})},n.onChangeWritingName=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,l=Object(V.a)({},n.state.formErrors);switch(a){case"title":l.title=r.length<1?"Campo obligatorio requerido":""}n.setState({formErrors:l,form:Object(V.a)(Object(V.a)({},n.state.form),{},{title:e.target.value})})},n.showCollaborative=function(){return 1===n.state.challenge.colaborativo?"Individual":"Colaborativo"},n.onModalEditWriting=function(e){n.setState({modalEditWriting:e})},n.infoWriting=function(e){n.state.data.map((function(e){return"".concat(e.idGrupo,"/").concat(e.idDesafio,"/").concat(e.id)}))},n.onFileChange=n.onFileChange.bind(Object(s.a)(n)),n.state={imgCollection:[],contentState:null,editorState:be.EditorState.createEmpty(),challenge:"",dataMediaChallenge:[],dataMediaWriting:[],modalDeleteFile:!1,deleteFileMedia:"",nameDeleteFileMedia:"",modalEditWriting:!1,writing:"",formErrors:{title:"",description:""},form:{idWriter:"",title:"",escrito:""},modalInsertVersion:!1,maxIdVersion:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({challenge:t[0]}),2===t[0].colaborativo?H.getTeamStudentGroup(E.getCurrentUser().id,e.props.match.params.idGroup).then((function(t){e.setState({form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:t[0].idEquipo})}),H.getMultimediaWriting(e.props.match.params.idChallenge,t[0].idEquipo).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})):(e.setState({form:Object(V.a)(Object(V.a)({},e.state.form),{},{idWriter:E.getCurrentUser().id})}),H.getMultimediaWriting(e.props.match.params.idChallenge,E.getCurrentUser().id).then((function(t){e.setState({dataMediaWriting:t.data})})).catch((function(e){console.log(e.message)})))})).catch((function(e){console.log(e.message)})),H.getMultimediaChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({dataMediaChallenge:t.data})})).catch((function(e){console.log(e.message)})),H.getChallenge(this.props.match.params.idChallenge).then((function(t){e.setState({challenge:t[0]}),1===t[0].colaborativo?H.getVersionsfromWriting(e.props.match.params.idWriting).then((function(t){var a=Object(Me.a)(t.data[e.props.match.params.idVersion-1].texto),n=be.EditorState.createWithContent(a);e.setState({writing:t.data[e.props.match.params.idVersion-1],editorState:n,form:Object(V.a)(Object(V.a)({},e.state.form),{},{title:t.data[e.props.match.params.idVersion-1].nombreEscrito,escrito:t.data[e.props.match.params.idVersion-1].texto})})})).catch((function(e){console.log(e.message)})):H.getVersionsfromWritingTeam(e.props.match.params.idWriting).then((function(t){var a=Object(Me.a)(t[e.props.match.params.idVersion-1].texto),n=be.EditorState.createWithContent(a);e.setState({writing:t[e.props.match.params.idVersion-1],editorState:n,form:Object(V.a)(Object(V.a)({},e.state.form),{},{title:t[e.props.match.params.idVersion-1].nombreEscrito,escrito:t[e.props.match.params.idVersion-1].texto})})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),H.getHighestidVersionfromWriting(this.props.match.params.idWriting).then((function(t){e.setState({maxIdVersion:t[0].maxId})})).catch((function(e){console.log(e.message)}))}},{key:"onFileChange",value:function(e){this.setState({imgCollection:e.target.files})}},{key:"render",value:function(){var e=this,t=this.state,a=t.editorState,n=t.dataMediaChallenge,l=t.dataMediaWriting,o=t.formErrors;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Editar Escrito ",this.showCollaborative()))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Detalles del desaf\xedo")),r.a.createElement("hr",null),r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Nombre"),r.a.createElement("h5",null," ",this.state.challenge.titulo," ")),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("label",{className:"form-label"},"Categoria"),r.a.createElement("h5",null,this.state.challenge.nombre))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Leer la descripci\xf3n del Desaf\xedo"),r.a.createElement("div",{className:"challenge-inputs",dangerouslySetInnerHTML:{__html:this.state.challenge.descripcion}})),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia: "),n.length>0?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},n.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver"))))}))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement("p",null,"No hay ficheros para mostrar"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Espacio de escritura")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-inputs"},r.a.createElement("label",{className:"form-label"},"Titulo"),r.a.createElement("div",null,r.a.createElement("input",{className:o.title.length>0?"error":"form-input",type:"text",name:"title",placeholder:"Escribe el t\xedtulo",value:this.state.form.title,onChange:this.onChangeWritingName}),o.title.length>0&&r.a.createElement("span",{className:"alert-login"},o.title)))),r.a.createElement("div",{className:"row-edit"},r.a.createElement("label",{className:"form-label"},"Escribe aqu\xed"),r.a.createElement(ve.Editor,{editorState:a,wrapperClassName:"wrapperClassName1",editorClassName:"editorClassName1",toolbarClassName:"toolbarClassName1",onEditorStateChange:this.onEditorStateChange,onContentStateChange:this.onContentStateChange,onChange:function(t,n){var r=Object(V.a)({},e.state.formErrors);a.getCurrentContent().hasText()?r.description="":r.description="Campo texto vac\xedo",e.setState({formErrors:r,form:Object(V.a)(Object(V.a)({},e.state.form),{},{escrito:we()(Object(be.convertToRaw)(e.state.editorState.getCurrentContent()))})})},className:o.description.length>0?"error":"form-control"}),o.description.length>0&&r.a.createElement("span",{className:"alert-login"},o.description)),r.a.createElement("br",null),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Puedes agregar un fichero multimedia si lo deseas (imagen,video o audio): "),r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"file",name:"imgCollection",onChange:this.onFileChange,multiple:!0}))),r.a.createElement("div",{class:"row-edit"},r.a.createElement("label",{className:"form-label"},"Ficheros Multimedia"),l.length>0?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("div",{className:"table-multi"},l.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,e.showTitle(t)),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.open(t.ruta)}},"Ver"))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.askDeleteFile(t)}},"Eliminar"))))}))))):r.a.createElement("div",{className:"row-edit"},r.a.createElement("p",null,"No hay ficheros para mostrar"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{text:"enviar",onClick:function(){return e.onModalInsertVersion(!0)}}," Guardar como escrito actual ")),r.a.createElement("div",{className:"form-button"},r.a.createElement(k.a,{onClick:function(){return window.location.href="/student/versionsWriting/".concat(e.props.match.params.idGroup,"/").concat(e.props.match.params.idChallenge,"/").concat(e.props.match.params.idWriting)}},"Cancelar"))))),r.a.createElement(T.a,{show:this.state.modalDeleteFile},r.a.createElement(T.a.Header,null,r.a.createElement("div",null,r.a.createElement("h5",null,"\xbfSeguro que desea eliminar ",this.state.nameDeleteFileMedia,"?")," ")),r.a.createElement(T.a.Body,null),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.deleteFile(e.state.deleteFileMedia)}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.closeModalDeleteFile()}},"Cancelar"))),r.a.createElement(T.a,{show:this.state.modalInsertVersion},r.a.createElement(T.a.Header,null),r.a.createElement(T.a.Body,null,r.a.createElement("p",null," \xbfDeseas guardar los cambios?")),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{onClick:function(){return e.insertVersion()}},"Aceptar"),r.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onModalInsertVersion(!1)}},"Cancelar"))))}}]),a}(n.Component),At=(r.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return r.a.createElement("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),n(e)}},a,r.a.createElement($e.a,null,r.a.createElement(tt.a,null)))})),r.a.forwardRef((function(e,t){var a=e.children,l=e.style,o=e.className,c=e["aria-labelledby"],i=Object(n.useState)(""),s=Object(Ie.a)(i,2),m=s[0],u=s[1];return r.a.createElement("div",{ref:t,style:l,className:o,"aria-labelledby":c},r.a.createElement(Ye.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Buscar grupo...",onChange:function(e){return u(e.target.value)},value:m}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(a).filter((function(e){return!m||e.props.children.toLowerCase().startsWith(m)||e.props.children.toUpperCase().startsWith(m)}))))})),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).filterData=function(){for(var e=[],t=0;t<n.state.dataCollection.length;t++)(new RegExp(n.state.filtroBusqueda,"i").test(n.state.dataCollection[t].nombreColeccion)||new RegExp(n.state.filtroBusqueda,"i").test(n.state.dataCollection[t].nombreGrupo))&&e.push(n.state.dataCollection[t]);n.setState({dataCollectionFiltered:e})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={dataGroup:[],idGroupSelect:0,nameGroupSelect:"",nombreColeccion:"",onAlert:!1,dataCollection:[],filtroBusqueda:"",dataCollectionFiltered:[],showListCollections:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getCollections(E.getCurrentUser().id,this.state.filtroBusqueda).then((function(t){t.length>0&&(e.setState({dataCollection:t,dataCollectionFiltered:t,showListCollections:!0}),e.filterData())}))}},{key:"onAlert",value:function(e){this.setState({onAlert:e})}},{key:"render",value:function(){var e=r.a.createElement("div",null," "),t=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.dataCollectionFiltered.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},e.nombreColeccion),r.a.createElement("li",{className:"flex-item-list"},e.nombreGrupo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.idColeccion,to:"/student/visualizecollections/".concat(e.idColeccion)},r.a.createElement(k.a,{size:"sm",variant:"primary"}," Ver colecci\xf3n ")))),r.a.createElement("hr",null))})));0===this.state.dataCollectionFiltered.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement("br",null),r.a.createElement("h4",null,"No hay resultados para la b\xfasqueda realizada.")),t=r.a.createElement(r.a.Fragment,null));var a=this.state,n=(a.dataGroup,a.showListCollections);return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Colecciones"))),n?r.a.createElement("div",null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"container-column-list"},r.a.createElement("li",{className:"items-row"},r.a.createElement("label",{className:"form-label"},"Buscar colecci\xf3n por su nombre o por grupo: ")),r.a.createElement("li",{className:"items-row"},r.a.createElement("input",{type:"text",name:"filtroBusqueda",onChange:this.handleChangeSearch})),r.a.createElement("li",{className:"items-row"},r.a.createElement("img",{src:"../../search.png",alt:""})))),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,e,t)))):r.a.createElement("div",{className:"table-margin"},r.a.createElement("p",null,"No hay colecciones para mostrar")))))}}]),a}(n.Component)),Ut=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChangeChallengeSelect=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:-1!=t.target.value?n.setState({selectedChallenge:!0}):n.setState({selectedChallenge:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={nameCollection:"",nameGroup:"",idGroup:-1,challengesNotInCollection:[],selectedChallenge:!1,idChallengeSelect:-1,dataChallenges:[],hayDesafios:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getCollection(this.props.match.params.idCollection).then((function(t){t.length>0&&e.setState({nameCollection:t[0].nombreColeccion,nameGroup:t[0].nombreGrupo,idGroup:t[0].idGrupo})})),H.getChallengesFromCollection(this.props.match.params.idCollection).then((function(t){t.length>0&&e.setState({dataChallenges:t,hayDesafios:!0})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,'Colecci\xf3n "',this.state.nameCollection,'"')),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Puede usar este espacio para ver los desaf\xedos asociados a la colecci\xf3n.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"flex-items-row-start wrap"},r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Grupo: ",r.a.createElement("u",null,this.state.nameGroup)," ")),r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Desaf\xedos:")),r.a.createElement("li",{className:"items-row"},1==this.state.hayDesafios?this.state.dataChallenges.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},t.titulo),r.a.createElement("li",{className:"flex-item-list"},1==t.colaborativo?"Individual":"Colaborativo"),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:t.id,to:"/student/visualizecollections/".concat(e.props.match.params.idCollection,"/").concat(t.id)},r.a.createElement(k.a,{size:"sm",variant:"primary"},"Ver escritos")))),r.a.createElement("hr",null))})):r.a.createElement(y.a,{variant:"danger"},"No hay ning\xfan desaf\xedo en esta colecci\xf3n")))))))))}}]),a}(n.Component),qt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={nameCollection:"",nameGroup:"",idGroup:-1,nameChallenge:"",dataWritings:[],hayEscritos:!1,colaborativo:-1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getCollection(this.props.match.params.idCollection).then((function(t){t.length>0&&e.setState({nameCollection:t[0].nombreColeccion,nameGroup:t[0].nombreGrupo,idGroup:t[0].idGrupo}),H.getChallenge(e.props.match.params.idChallenge).then((function(t){e.setState({colaborativo:t[0].colaborativo,nameChallenge:t[0].titulo}),1==t[0].colaborativo?H.getWritingsStudentCollection(e.state.idGroup,e.props.match.params.idChallenge).then((function(t){t.length>0&&e.setState({dataWritings:t,hayEscritos:!0})})):H.getWritingsTeamCollection(e.state.idGroup,e.props.match.params.idChallenge).then((function(t){t.length>0&&e.setState({dataWritings:t,hayEscritos:!0})}))}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,'Desaf\xedo "',this.state.nameChallenge,'"')),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"En este espacio puede ver los escritos de los alumnos que pertenecen al desaf\xedo seleccionado.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("ul",{className:"flex-items-row-start wrap"},r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Colecci\xf3n: ",r.a.createElement("u",null,this.state.nameCollection)," ")),r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Grupo: ",r.a.createElement("u",null,this.state.nameGroup)," ")),r.a.createElement("br",null),r.a.createElement("li",{className:"flex-item-data"},r.a.createElement("h5",null,"Escritos:")),r.a.createElement("li",{className:"items-row"},1==this.state.hayEscritos?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("u",null,r.a.createElement("b",null,"T\xedtulo:"))),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("u",null,r.a.createElement("b",null,1==this.state.colaborativo?"Estudiante:":"Equipo:")))),r.a.createElement("br",null),this.state.dataWritings.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"flex-items-row-evenly"},r.a.createElement("li",{className:"flex-item-list"},e.nombreEscrito),r.a.createElement("li",{className:"flex-item-list"},1==e.colaborativo?r.a.createElement(r.a.Fragment,null," ",e.nombreEstudiante," ",e.apellidosEstudiante," "):r.a.createElement(r.a.Fragment,null," ",e.nombreEquipo," "))),r.a.createElement("hr",null))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(y.a,{variant:"danger"},"No hay ning\xfan escrito para este desaf\xedo")),r.a.createElement("br",null)))))))))}}]),a}(n.Component);var Rt=function(){var e=Object(h.g)().url;return r.a.createElement(d.a,null,r.a.createElement(Ee,{links:Mt,url:e}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/student/groups",component:yt}),r.a.createElement(h.b,{exact:!0,path:"/student/teams",component:kt}),r.a.createElement(h.b,{exact:!0,path:"/student/writingsTabs",component:ft}),r.a.createElement(h.b,{exact:!0,path:"/student/ChallengesTabs",component:wt}),r.a.createElement(h.b,{exact:!0,path:"/student/teamStudent/:idGroup",component:pt}),r.a.createElement(h.b,{exact:!0,path:"/student/writing/:idGroup/:idChallenge",component:Tt}),r.a.createElement(h.b,{exact:!0,path:"/student/editWriting/:idGroup/:idChallenge/:idWriting",component:jt}),r.a.createElement(h.b,{exact:!0,path:"/student/viewWriting/:idGroup/:idChallenge/:idWriting",component:Ot}),r.a.createElement(h.b,{exact:!0,path:"/student/editWritingTeam/:idGroup/:idChallenge/:idWriting",component:Ft}),r.a.createElement(h.b,{exact:!0,path:"/student/versionsWriting/:idGroup/:idChallenge/:idWriting",component:Wt}),r.a.createElement(h.b,{exact:!0,path:"/student/editVersionfromWriting/:idGroup/:idChallenge/:idWriting/:idVersion",component:Bt}),r.a.createElement(h.b,{exact:!0,path:"/student/visualizecollections",component:At}),r.a.createElement(h.b,{exact:!0,path:"/student/visualizecollections/:idCollection",component:Ut}),r.a.createElement(h.b,{exact:!0,path:"/student/visualizecollections/:idCollection/:idChallenge",component:qt})))};var zt=function(){return r.a.createElement(Rt,null)},Lt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).peticionPost=function(){ie.getUsers(n.state.searchName,n.state.searchType).then((function(e){n.setState({data:e}),n.setState({filteredData:e}),n.filterData()}))},n.filterData=function(){var e=[];n.state.filteredData=[];for(var t=0;t<n.state.data.length;t++)"email"==n.state.searchType?new RegExp(n.state.searchName,"i").test(n.state.data[t].correo)&&e.push(n.state.data[t]):(new RegExp(n.state.searchName,"i").test(n.state.data[t].nombre)||new RegExp(n.state.searchName,"i").test(n.state.data[t].apellidos))&&e.push(n.state.data[t]);var a=[];if("none"!=n.state.searchRole)for(var r=0;r<e.length;r++)e[r].rol===n.state.searchRole&&a.push(e[r]);else a=e;n.setState({filteredData:a})},n.handleChangeSearch=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchType=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSearchRole=function(){var e=Object(ce.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(oe.a)({},t.target.name,t.target.value));case 2:n.filterData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeViewUserProfile=function(e){window.location.href="/admin/users/viewProfile/"+e},n.state={data:[],filteredData:[],searchName:"",searchType:"nombre",searchRole:"none"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.peticionPost()}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null," "),t=r.a.createElement("ul",{className:"flex-items-row-start wrap"},this.state.filteredData.map((function(e){return r.a.createElement("li",{className:"items-row"},r.a.createElement("br",null),r.a.createElement("ul",{className:"container-column-list wrap"},r.a.createElement("li",{className:"flex-item-list"},r.a.createElement("img",{src:""!=e.ruta?e.ruta:"/chicaliteratura.png",alt:"",style:{width:"40%",borderRadius:"80%"}})),r.a.createElement("li",{className:"flex-item-list"},e.nombre),r.a.createElement("li",{className:"flex-item-list"},e.apellidos),r.a.createElement("li",{className:"flex-item-list"},e.correo),r.a.createElement("li",{className:"flex-item-list"},r.a.createElement(d.b,{key:e.id,to:"/admin/users/viewProfile/".concat(e.id)},r.a.createElement(k.a,{size:"sm",text:"Ver Perfil"}," Ver perfil ")))),r.a.createElement("hr",null))})));return 0===this.state.filteredData.length&&(e=r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"danger"},r.a.createElement("h6",null,"No hay resultados para la b\xfasqueda realizada."))),t=r.a.createElement("div",null)),r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-edit"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Usuarios activos "))),r.a.createElement("div",{className:"row-edit"},r.a.createElement(y.a,{variant:"info"},r.a.createElement("img",{src:"/info.png",alt:""}),"Listado de los usuarios activos en la plataforma.")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("ul",{className:"flex-row"},r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label"},"Buscar usuario  ",r.a.createElement("img",{src:"/search.png",alt:""})),r.a.createElement("input",{type:"text",name:"searchName",onChange:this.handleChangeSearch}))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label",htmlFor:"searchType"},"Escoja c\xf3mo buscar"),r.a.createElement("select",{name:"searchType",id:"searchType",onChange:this.handleChangeSearchType},r.a.createElement("option",{value:"nombre"},"Nombre"),r.a.createElement("option",{value:"email"},"Email")))),r.a.createElement("li",{className:"flex-item-form"},r.a.createElement("div",{className:"form-select"},r.a.createElement("label",{className:"form-label",htmlFor:"searchRole"},"Buscar por rol"),r.a.createElement("select",{name:"searchRole",id:"searchRole",onChange:this.handleChangeSearchRole},r.a.createElement("option",{value:"none"},"Todos"),r.a.createElement("option",{value:"S"},"Estudiantes"),r.a.createElement("option",{value:"T"},"Profesores"),r.a.createElement("option",{value:"A"},"Administradores")))))),r.a.createElement("div",{className:"row-edit"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,e,t))))))}}]),a}(n.Component),It=[{path:"/groups",name:"Grupos",icon:"/group.png",id:"groups"},{path:"/users",name:"Usuarios",icon:"/add-member.png",id:"Usuarios"},{path:"/applicants",name:"Solicitantes",icon:"/add-user.png",id:"Solicitantes"}];var Pt=function(){var e=Object(h.g)().url;return r.a.createElement(d.a,null,r.a.createElement(Ee,{links:It,url:e}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/admin/users",component:Lt}),r.a.createElement(h.b,{exact:!0,path:"/admin/users/viewProfile/:idStudent",component:ze}),r.a.createElement(h.b,{exact:!0,path:"/admin/applicants",component:Be}),r.a.createElement(h.b,{exact:!0,path:"/admin/groups",component:se}),r.a.createElement(h.b,{exact:!0,path:"/admin/viewGroup/:idGroup",component:fe})))};var Vt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,null))},Ht=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={currentUser:void 0,showStudent:!1,showTeacher:!1,showAdmin:!1,url:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=E.getCurrentUser();e&&this.setState({currentUser:e,showStudent:e.rol.includes("S"),showTeacher:e.rol.includes("T"),showAdmin:e.rol.includes("A")}),this.state.showStudents?this.setState({url:"/student/groups"}):this.state.showAdmin?this.setState({url:"/teacher/groups"}):this.state.showTeacher?this.setState({url:"/admin"}):this.setState({url:window.location.pathname})}},{key:"render",value:function(){var e=this.state,t=(e.currentUser,e.showStudent),a=e.showTeacher;e.showAdmin;return r.a.createElement("div",{className:"container"},r.a.createElement(L.a,{className:"card-long"},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Qu\xe9 es Creativa")),r.a.createElement("div",{className:"row-edit"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h5",null,"De  qu\xe9 trata")),r.a.createElement("p",null,"Es una aplicaci\xf3n para fomentar la escritura creativa de una manera did\xe1ctica a trav\xe9s de desaf\xedos de distintas tem\xe1ticas que propondr\xe1 el profesor."),r.a.createElement("div",{className:"section-title"},r.a.createElement("h5",null,"Uso de la aplicaci\xf3n")),r.a.createElement("p",null,"En el panel superior te encontrar\xe1s con diferentes apartados de la aplicaci\xf3n web, que te mostrar\xe1n una funcionalidad diferente cada uno."),r.a.createElement("div",{className:"section-title"},r.a.createElement("h5",null,"Inicio")),r.a.createElement("p",null,"Es la p\xe1gina en la que te encuentras, en ella se ofrece un breve resumen de la aplicaci\xf3n y un peque\xf1o tutorial sobre c\xf3mo moverte por la plataforma."),r.a.createElement("div",{className:"section-title"},r.a.createElement("h5",null,"Tablero")),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/student/groups"},"Grupos"),r.a.createElement("p",null,'Desde esta pesta\xf1a realizaremos todo lo relacionado con la escritura creativa. Cuando clicamos en ella vamos a la pesta\xf1a principal "Grupos". En "Grupos" tenemos acceso a casi toda la aplicaci\xf3n de manera r\xe1pida y sencilla. Podemos pedir entrar a un grupo, ver nuestros grupos, crear nuestro equipo, pedir que nos inviten a uno, continuar un escrito, etc. ')," "):"",a?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/teacher/groups"},"Grupos"),r.a.createElement("p",null,"Desde esta pesta\xf1a realizaremos el control de los estudiantes creando desaf\xedos, viendo escritos de los estudiantes, los equipos que ellos han formado, los propios estudiantes, tambi\xe9n se ofrece la posibilidad de renombrar el grupo...")," "):"",t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/student/challengesTabs"},"Crear Escrito"),r.a.createElement("p",null," Debajo de esta pesta\xf1a encontramos las subsidiarias, primero Crear Escrito para aquellos que no est\xe1n empezados a\xfan, dividido en individual o colaborativo, si el escrito fuese en equipo. ")," "):"",a?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/teacher/students"},"Estudiantes"),r.a.createElement("p",null," En esta pesta\xf1a podemos ver la lista de los estudiantes con los que cuenta el profesor. ")," "):"",t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/student/writingsTabs"},"Escrito"),r.a.createElement("p",null,"  Debajo de este est\xe1 Escrito, para editar los escritos ya empezados. Adem\xe1s, cuenta con versiones, por lo que si no te gusta el rumbo que est\xe1 tomando tu escrito puedes volver a una versi\xf3n anterior, y volver a usarla como que fuese la actual. "),"  "):"",a?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/teacher/applicants"},"Solicitantes"),r.a.createElement("p",null," Aqu\xed se pueden ver los alumnos que quieren unirse bien sea a la plataforma o a alg\xfan grupo que imparte el profesor. ")," "):"",t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/student/teams"},"Equipos"),r.a.createElement("p",null," En Equipos encontramos los equipos que lideramos y de los que formamos parte.  ")," "):"",a?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/teacher/createGroup"},"Crear Grupo"),r.a.createElement("p",null," Aqu\xed el profesor puede crear un nuevo grupo de la tem\xe1tica que desee. ")," "):"",t&&r.a.createElement(d.b,{to:"/student/visualizecollections"},"Colecciones"),a&&r.a.createElement(d.b,{to:"/teacher/collections"},"Colecciones"),r.a.createElement("p",null,"  Y, por \xfaltimo, en colecciones encontramos un \xe1lbum de desaf\xedos creados por el profesor seg\xfan el grupo, donde se pueden ver los escritos que responden a esos desaf\xedos. "),r.a.createElement("div",{className:"section-title"},r.a.createElement("h5",null,r.a.createElement(d.b,{to:"/profile"},"Perfil"))),r.a.createElement("p",null,"Desde esta pesta\xf1a podemos ver nuestro perfil y tambi\xe9n podemos configurarlo."),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section-title"},r.a.createElement("h5",null,r.a.createElement(d.b,{to:"/student/messenger"},"Mensajer\xeda"))),r.a.createElement("p",null,"Se pueden enviar mensajes entre un estudiante que forme parte de un equipo y otro que no de dos formas: el estudiante que est\xe9 en un equipo puede pedir a otro estudiante que entre en su equipo y otra forma, que un estudiante que no est\xe9 en un equipo, env\xede una petici\xf3n para entrar.")," "):""))))}}]),a}(n.Component),Kt=a(101),Yt=a(70),Jt=(a(661),a(662),function(){return r.a.createElement("div",{className:"container"},r.a.createElement("img",{className:"error",src:"/24.png",alt:""}),r.a.createElement("h2",null,"404 ",r.a.createElement("h4",null,"Vaya...\xbfTe has perdido?")))}),_t=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),r.a.createElement("img",{className:"error",src:"/12.png",alt:""}),r.a.createElement("h2",null,"500 ",r.a.createElement("h4",null,"Ups!...algo ha ocurrido mal.")))},Qt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(s.a)(n)),n.state={currentUser:void 0,showStudent:!1,showTeacher:!1,showAdmin:!1,url:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=E.getCurrentUser();e&&this.setState({currentUser:e,showStudent:e.rol.includes("S"),showTeacher:e.rol.includes("T"),showAdmin:e.rol.includes("A")}),this.state.showStudents?this.setState({url:"/student/groups"}):this.state.showAdmin?this.setState({url:"/teacher/groups"}):this.state.showTeacher?this.setState({url:"/admin"}):this.setState({url:window.location.pathname})}},{key:"logOut",value:function(){E.logout()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,a=e.showStudent,n=e.showTeacher,l=e.showAdmin;return r.a.createElement(d.a,null,t?r.a.createElement("div",{className:"full-wrapper"},r.a.createElement("header",null,r.a.createElement("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),r.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Roboto&family=Pontano+Sans&family=Dawning+of+a+New+Day&display=swap",rel:"stylesheet"}),r.a.createElement(Kt.a,{collapseOnSelect:!0,expand:"lg"},r.a.createElement(Kt.a.Brand,{href:"/profile"},r.a.createElement("img",{src:"/puntapluma.png",width:"45",height:"45",alt:"React Bootstrap logo"}),"Creativa"),r.a.createElement(Kt.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(Kt.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(Yt.a,{className:"mr-auto"},r.a.createElement(Yt.a.Link,{bsPrefix:"nav-link",href:"/inicio"},"Inicio"),l&&r.a.createElement(Yt.a.Link,{bsPrefix:"nav-link",href:"/admin/groups"},"Tablero"),a&&r.a.createElement(Yt.a.Link,{bsPrefix:"nav-link",href:"/student/groups"},"Tablero"),n&&r.a.createElement(Yt.a.Link,{bsPrefix:"nav-link",href:"/teacher/groups"},"Tablero"),r.a.createElement(Yt.a.Link,{bsPrefix:"nav-link",href:"/profile"}," ",t.username),a&&r.a.createElement(Yt.a.Link,{bsPrefix:"nav-link",href:"/student/messenger"}," Mensajeria"),r.a.createElement(Yt.a.Link,{bsPrefix:"nav-link",href:"/login",onClick:this.logOut},"Cerrar sesi\xf3n"))))),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/login",component:O}),r.a.createElement(h.b,{exact:!0,path:"/register",component:z}),r.a.createElement(h.b,{exact:!0,path:"/profile",component:P}),r.a.createElement(h.b,{path:"/admin",component:Vt}),r.a.createElement(h.b,{exact:!0,path:"/editProfile",component:Z}),r.a.createElement(h.b,{path:"/teacher",component:ut}),r.a.createElement(h.b,{exact:!0,path:"/student/messenger",component:ae}),r.a.createElement(h.b,{exact:!0,path:"/student/message/:idMessage",component:ne}),r.a.createElement(h.b,{exact:!0,path:"/inicio",component:Ht}),r.a.createElement(h.b,{path:"/student",component:zt}),r.a.createElement(h.b,{exact:!0,path:"/500",component:_t})," ",r.a.createElement(h.b,{exact:!0,path:"*",component:Jt})," ")):r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("header",null,r.a.createElement("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),r.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Roboto&family=Pontano+Sans&display=swap",rel:"stylesheet"}),r.a.createElement(Kt.a,{collapseOnSelect:!0,expand:"lg"},r.a.createElement(Kt.a.Brand,{href:"/login"},r.a.createElement("img",{src:"/puntapluma.png",width:"45",height:"45",alt:"React Bootstrap logo"}),"Creativa"),r.a.createElement(Kt.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(Kt.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(Yt.a,{className:"mr-auto"},r.a.createElement(Yt.a.Link,{href:"/login"},"Iniciar"),r.a.createElement(Yt.a.Link,{href:"/register"},"Registar"))))),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:["/","/login"],component:O}),r.a.createElement(h.b,{exact:!0,path:"/login",component:O}),r.a.createElement(h.b,{exact:!0,path:"/register",component:z}),r.a.createElement(h.b,{exact:!0,path:"/500",component:_t})," ",r.a.createElement(h.b,{path:"*",component:Jt})," ")))}}]),a}(n.Component);o.a.render(r.a.createElement(Qt,null),document.getElementById("root"))},71:function(e,t,a){},95:function(e,t,a){}},[[384,1,2]]]);
//# sourceMappingURL=main.e40fdc41.chunk.js.map